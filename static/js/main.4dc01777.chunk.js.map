{"version":3,"sources":["Utils/firebase.js","context/PyroStateContext.js","context/PyroDispatchContext.js","reducers/PyroReducer.js","hooks/useAuth.js","components/SignIn.js","components/Login/index.js","components/SignOut.js","components/UserNotAllowed/index.js","Utils/RenderedColor.js","components/InputDimensions/index.js","components/User/index.js","assets/images/mobile.svg","assets/images/tablet.svg","assets/images/desktop.svg","components/Dimensions/index.js","assets/images/pyro_white.svg","components/ProtoActions/index.js","components/Empty/index.js","Utils/ReturnVisibility.js","components/Gradients/index.js","components/SolidBG/index.js","components/ImageBG/index.js","components/Background/index.js","components/StrokeGradients/index.js","components/StrokeSolidBG/index.js","components/Stroke/index.js","components/Vector/index.js","components/Text/index.js","components/Field/index.js","components/Ellipse/index.js","components/Element/index.js","components/RenderElements/index.js","components/Frame/index.js","components/Frames/index.js","components/Loading/index.js","components/Prototype/index.js","components/NoPyro/index.js","App.js","components/InitFigma/index.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","PyroStateContext","createContext","PyroDispatchContext","initialPyroState","figmaFile","authData","loading","isMobile","figmaData","currentFrameIDX","currentFrameID","currentPageIDX","currentPageID","protoWidth","protoHeight","tabletWidth","tabletHeight","minWidth","minHeight","smoov","onBoarding","fileImages","nodeTree","selection","vectors","me","breakPoints","currentBreakpoint","direction","email","rotations","pluginState","pluginStateChanges","hoverEnter","firstFrame","updateVis","noPyroProto","userIsAllowed","pristine","userData","token","PyroReducer","state","action","type","AUTHORISE_USER","payload","SET_USER","NOT_PRISTINE","NO_PROTO","SET_FILEKEY","UPDATE_FIELD_VALUE","pluginVariables","variable","val","UPDATE_PLUGIN_STATE","update_current","String","pluginAction","targetVariable","id","update_target","targetValue","eventType","indexOf","actionType","ADD_CONDITION","newCondition","nodeID","conditions","pluginConditions","SET_PLUGIN_STATE","SET_DIRECTION","SET_CURRENT_BPOINT","SET_BREAKPOINTS","SET_SELECTION","currentPage","SET_ROTATES","SET_VECTORS","SET_EMAIL","SET_ONBARDING","SET_ATTRIBUTE","hasOwnProperty","attribute","value","ADD_CHILD_ELEMENT","startNodeTree","GET_ME","GET_IMAGES","REMOVE_SMOOV","SET_TABLET","SET_DESKTOP","window","innerWidth","innerHeight","SET_MOBILE","SET_WIDTH","SET_HEIGHT","SET_CURRENT_FRAME_ID","SET_CURRENT_FRAME_IDX","undefined","RESET_CURRENTPAGE","SET_CURRENT_PAGE_IDX","RMV_LOADING","LOADING","TOKEN","UPDATE_FILE_DATA_FROM_FIGMA","pageData","Error","useAuth","useState","user","setUser","useEffect","onAuthStateChanged","SignIn","className","onClick","provider","GoogleAuthProvider","signInWithPopup","Login","useContext","SignOut","signOut","UserNotAllowed","floatToRGB","channel","RenderedColor","color","r","g","b","a","alpha","InputDimensions","dispatch","setInputDimensions","e","isWidth","isNaN","Number","target","checkMax","disabled","onFocus","select","onChange","onBlur","Math","round","User","displayName","photoURL","src","width","alt","Dimensions","setDimensions","dimensions","size","setTimeout","mobile","desktop","tablet","ProtoActions","pyro","height","name","children","Empty","ReturnVisibility","condition","isC2","condition2","toLowerCase","nbC1","condition1","nbC2","c1","thisString","operator","show","Gradients","bg","gradType","canvasRef","useRef","opacity","blendMode","gradientStops","gradientTransform","startGradient","start","endGradient","end","c","current","getContext","clearRect","grad","x0","x","y0","y","x1","y1","gradientWith","sqrt","createLinearGradient","createRadialGradient","forEach","stop","idx","position","addColorStop","fillStyle","fillRect","style","mixBlendMode","split","join","ref","SolidBG","background","ImageBG","constraints","bgBlend","scaleMode","backgroundImage","imageRef","horizontal","Background","element","makeBackground","key","visible","length","map","fills","StrokeGradients","str","strokeWeight","gradientHandlePositions","strokeStyle","lineWidth","strokeRect","StrokeSolidBG","borderRadius","rectangleCornerRadius","reduce","acc","itm","cornerRadius","border","Stroke","strokes","makeStroke","Vector","handleClick","node","transitionNodeID","vectorPaths","vectorStyle","setVectorStyle","SVGStyle","setSVGStyle","pathStyle","setPathStyle","tempStyle","tempSVG","path","stroke","strokeWidth","xmlns","viewBox","strokeLinecap","d","Text","posStyle","characters","textAlignHorizontal","textAlignVertical","textAutoResize","textCase","textDecoration","fontName","fontSize","layoutAlign","layoutGrow","letterSpacing","lineHeight","listSpacing","textStyles","setTextStyles","txtStyles","textAlign","textTransform","fontStyle","fontFamily","family","justif","align","display","margin","justifyContent","alignItems","pluginTexts","temp","showMe","Object","keys","every","sumStyles","varID","Field","pluginFields","placeHolder","placeholder","Ellipse","Element","renderThis","parent","currentFrame","effects","absoluteBoundingBox","layoutMode","reactions","setParentNode","nodeStyle","setNodeStyle","flexChild","setFlexChild","clickable","makeClickable","classNames","setClassNames","flexParent","setAxis","priority","axis","setVisibility","centerStyle","isParent","centerParent","childStyle","left","right","calcChildWidth","xRight","top","bottom","handleEvent","pluginActions","destinationId","classes","setNode","actions","radius","overflow","setRadius","primaryAxisAlignItems","counterAxisAlignItems","flexDirection","paddingTop","paddingRight","paddingBottom","paddingLeft","padding","boxSizing","setFlex","toFixed","vertical","setDimension","fx","fxType","offset","boxShadow","parentNodee","itemSpacing","parentChildren","order","flexDirectionIsHorizontal","flex","setChild","parentPos","parentNode","setPosition","isVisible","onMouseEnter","onMouseLeave","sort","sortChildren","child","RenderElements","Frame","Frames","currentId","pages","frame","index","maxConstraints","minConstraints","onResize","Loading","Prototype","rwd","setBG","page","i","w","breakPoint","filter","setPoints","childKey","currFrame","backgroundColor","NoPyro","App","fileDB","collection","doc","pluginVariablesDB","pluginActionsDB","pluginConditionsDB","pluginFieldsDB","pluginTextsDB","useCollectionData","idField","pluginVariablesState","entries","var","pluginFieldsState","pluginTextsState","pluginActionsState","get","then","snap","data","pluginConditionsState","InitFigma","fileKey","location","href","useReducer","db","updateUser","authorizeUser","isAuthorised","currentOrg","myEmail","useOrg","orgDomain","users","imTheOwner","isMyGuest","exists","prototypeStartNodeID","catch","error","console","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4dc01777.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst FireBaseInit = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: \"pyro-intuit.firebaseapp.com\",\r\n  databaseURL: \"https://pyro-intuit.firebaseio.com\",\r\n  projectId: \"pyro-intuit\",\r\n  storageBucket: \"pyro-intuit.appspot.com\",\r\n  messagingSenderId: \"657829873421\",\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n}\r\n\r\n\r\nfirebase.initializeApp(FireBaseInit)\r\nconst auth = firebase.auth()\r\nconst firestore = firebase.firestore()\r\nexport { firestore,auth }\r\n\r\nexport default firebase\r\n","import { createContext } from 'react'\r\nconst PyroStateContext = createContext()\r\nexport default PyroStateContext\r\n","import { createContext } from 'react'\r\nconst PyroDispatchContext = createContext()\r\nexport default PyroDispatchContext\r\n","let initialPyroState = {\r\n  //figmaFile:\"91MpGRzYJyF8ZruHDpUC6r\",\r\n  //figmaFile:\"cZk5K4u4XGN22bNIsEcojq\",\r\n  figmaFile:null,\r\n  authData:null,\r\n  loading:true,\r\n  isMobile:true,\r\n  figmaData:null,\r\n  currentFrameIDX:0,\r\n  currentFrameID:null,\r\n  currentPageIDX:0,\r\n  currentPageID:null,\r\n  protoWidth:375,\r\n  protoHeight:812,\r\n  tabletWidth:1024,\r\n  tabletHeight:728,\r\n  minWidth:324,\r\n  minHeight:394,\r\n  smoov:false,\r\n  onBoarding:0,\r\n  fileImages:null,\r\n  nodeTree:null,\r\n  selection:null,\r\n  vectors:null,\r\n  me:null,\r\n  breakPoints:null,\r\n  currentBreakpoint:0,\r\n  direction:false,\r\n  email:null,\r\n  rotations:null,\r\n  pluginState:null,\r\n  pluginStateChanges:false,\r\n  hoverEnter:null,\r\n  firstFrame:null,\r\n  updateVis:false,\r\n  noPyroProto:false,\r\n  userIsAllowed:false,\r\n  pristine:true,\r\n  userData:null,\r\n  token:null\r\n}\r\nconst PyroReducer = (state, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'AUTHORISE_USER':\r\n      let AUTHORISE_USER = {...state}\r\n      AUTHORISE_USER.userIsAllowed = action.payload\r\n    return AUTHORISE_USER;\r\n\r\n    case 'SET_USER':\r\n      let SET_USER = {...state}\r\n      SET_USER.userData = action.payload\r\n    return SET_USER;\r\n\r\n    case 'NOT_PRISTINE':\r\n      let NOT_PRISTINE = {...state}\r\n      NOT_PRISTINE.pristine = false\r\n    return NOT_PRISTINE;\r\n\r\n    case 'NO_PROTO':\r\n      let NO_PROTO = {...state}\r\n      NO_PROTO.noPyroProto = true\r\n    return NO_PROTO;\r\n\r\n    case 'SET_FILEKEY':\r\n      let SET_FILEKEY = {...state}\r\n      SET_FILEKEY.figmaFile= action.payload\r\n    return SET_FILEKEY;\r\n\r\n    case 'UPDATE_FIELD_VALUE':\r\n      let UPDATE_FIELD_VALUE = {...state}\r\n      UPDATE_FIELD_VALUE.pluginState.pluginVariables[action.payload.variable] = action.payload.val\r\n      UPDATE_FIELD_VALUE.updateVis = !UPDATE_FIELD_VALUE.updateVis\r\n    return UPDATE_FIELD_VALUE;\r\n\r\n    case 'UPDATE_PLUGIN_STATE':\r\n      let UPDATE_PLUGIN_STATE = {...state}\r\n      const update_current = String(UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id])\r\n      const update_target = action.payload.pluginAction.targetVariable.targetValue\r\n      if(action.payload.eventType.indexOf('MouseEnter') !== -1) UPDATE_PLUGIN_STATE.hoverEnter = update_current\r\n\r\n      let originalVal =  UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id]\r\n      if (action.payload.pluginAction.actionType === 'becomes'&&(update_current!==update_target)) {\r\n        UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id] = action.payload.pluginAction.targetVariable.targetValue\r\n      }\r\n\r\n      if (action.payload.pluginAction.actionType === 'toggles') {\r\n        if(String(UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id])==='true'||\r\n          String(UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id])==='false'){\r\n            UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id] = !UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id]\r\n          }\r\n      }\r\n\r\n\r\n      if(action.payload.eventType.indexOf('MouseLeave') !== -1){\r\n        UPDATE_PLUGIN_STATE.pluginState.pluginVariables[action.payload.pluginAction.targetVariable.id] = UPDATE_PLUGIN_STATE.hoverEnter\r\n        UPDATE_PLUGIN_STATE.hoverEnter = null\r\n      }\r\n\r\n      UPDATE_PLUGIN_STATE.updateVis = !UPDATE_PLUGIN_STATE.updateVis\r\n    return UPDATE_PLUGIN_STATE;\r\n\r\n    case 'ADD_CONDITION':\r\n      let ADD_CONDITION = {...state}\r\n      if(ADD_CONDITION.pluginState === null) {\r\n        let newCondition = {}\r\n        newCondition['pluginConditions'][action.payload.nodeID] = action.payload.conditions\r\n        ADD_CONDITION.pluginState = newCondition\r\n      } else ADD_CONDITION.pluginState.pluginConditions[action.payload.nodeID] = action.payload.conditions\r\n      ADD_CONDITION.pluginStateChanges = !ADD_CONDITION.pluginStateChanges\r\n      ADD_CONDITION.loading = false\r\n    return ADD_CONDITION;\r\n\r\n    case 'SET_PLUGIN_STATE':\r\n      let SET_PLUGIN_STATE = {...state}\r\n      SET_PLUGIN_STATE.pluginStateChanges = !SET_PLUGIN_STATE.pluginStateChanges\r\n      SET_PLUGIN_STATE.pluginState = action.payload\r\n    return SET_PLUGIN_STATE;\r\n\r\n    case 'SET_DIRECTION':\r\n      let SET_DIRECTION = {...state}\r\n      SET_DIRECTION.direction = action.payload\r\n    return SET_DIRECTION;\r\n\r\n    case 'SET_CURRENT_BPOINT':\r\n      let SET_CURRENT_BPOINT = {...state}\r\n      SET_CURRENT_BPOINT.currentBreakpoint = action.payload\r\n    return SET_CURRENT_BPOINT;\r\n\r\n    case 'SET_BREAKPOINTS':\r\n      let SET_BREAKPOINTS = {...state}\r\n      SET_BREAKPOINTS.breakPoints = action.payload\r\n    return SET_BREAKPOINTS;\r\n\r\n    case 'SET_SELECTION':\r\n      let SET_SELECTION = {...state}\r\n      //console.log(SET_SELECTION.figmaData.children[SET_SELECTION.currentPageIDX].children[SET_SELECTION.currentFrameIDX]);\r\n      SET_SELECTION.currentPageID = action.payload.currentPage.id\r\n      SET_SELECTION.selection = action.payload.selection\r\n    return SET_SELECTION;\r\n\r\n    case 'SET_ROTATES':\r\n      let SET_ROTATES = {...state}\r\n      SET_ROTATES.rotations = action.payload\r\n    return SET_ROTATES;\r\n\r\n    case 'SET_VECTORS':\r\n      let SET_VECTORS = {...state}\r\n      SET_VECTORS.vectors = action.payload\r\n    return SET_VECTORS;\r\n\r\n    case 'SET_EMAIL':\r\n      let SET_EMAIL = {...state}\r\n      SET_EMAIL.email = action.payload\r\n    return SET_EMAIL;\r\n\r\n    case 'SET_ONBARDING':\r\n      let SET_ONBARDING = {...state}\r\n      SET_ONBARDING.onBoarding = action.payload\r\n    return SET_ONBARDING;\r\n\r\n    case 'SET_ATTRIBUTE':\r\n      let SET_ATTRIBUTE = {...state}\r\n      if(SET_ATTRIBUTE.nodeTree.hasOwnProperty(action.payload.id)){\r\n        SET_ATTRIBUTE.nodeTree[action.payload.id][action.payload.attribute] = action.payload.value\r\n      }\r\n    return SET_ATTRIBUTE;\r\n\r\n    case 'ADD_CHILD_ELEMENT':\r\n      let ADD_CHILD_ELEMENT = {...state}\r\n      let startNodeTree = {}\r\n      if(ADD_CHILD_ELEMENT.nodeTree === null){\r\n        startNodeTree[action.payload.id] = action.payload\r\n        ADD_CHILD_ELEMENT.nodeTree = startNodeTree\r\n      } else ADD_CHILD_ELEMENT.nodeTree[action.payload.id] = action.payload\r\n\r\n    return ADD_CHILD_ELEMENT;\r\n\r\n    case 'GET_ME':\r\n      let GET_ME = {...state}\r\n      GET_ME.me = action.payload\r\n    return GET_ME;\r\n\r\n    case 'GET_IMAGES':\r\n      let GET_IMAGES = {...state}\r\n      GET_IMAGES.fileImages = action.payload\r\n    return GET_IMAGES;\r\n\r\n    case 'REMOVE_SMOOV':\r\n      let REMOVE_SMOOV = {...state}\r\n      REMOVE_SMOOV.smoov = false\r\n    return REMOVE_SMOOV;\r\n\r\n    case 'SET_TABLET':\r\n      let SET_TABLET = {...state}\r\n      SET_TABLET.smoov = true\r\n      SET_TABLET.protoWidth = SET_TABLET.tabletWidth\r\n      SET_TABLET.protoHeight = SET_TABLET.tabletHeight\r\n    return SET_TABLET;\r\n\r\n    case 'SET_DESKTOP':\r\n      let SET_DESKTOP = {...state}\r\n      SET_DESKTOP.smoov = true\r\n      SET_DESKTOP.protoWidth = window.innerWidth\r\n      SET_DESKTOP.protoHeight = window.innerHeight - 34\r\n    return SET_DESKTOP;\r\n\r\n    case 'SET_MOBILE':\r\n      let SET_MOBILE = {...state}\r\n      SET_MOBILE.smoov = true\r\n      SET_MOBILE.protoWidth = 375\r\n      SET_MOBILE.protoHeight = 812\r\n    return SET_MOBILE;\r\n\r\n    case 'SET_WIDTH':\r\n      let SET_WIDTH = {...state}\r\n      SET_WIDTH.protoWidth = action.payload\r\n    return SET_WIDTH;\r\n\r\n    case 'SET_HEIGHT':\r\n      let SET_HEIGHT = {...state}\r\n      SET_HEIGHT.protoHeight = action.payload\r\n    return SET_HEIGHT;\r\n\r\n    case 'SET_CURRENT_FRAME_ID':\r\n      let SET_CURRENT_FRAME_ID = {...state}\r\n      SET_CURRENT_FRAME_ID.currentFrameID = action.payload\r\n    return SET_CURRENT_FRAME_ID;\r\n\r\n    case 'SET_CURRENT_FRAME_IDX':\r\n      let SET_CURRENT_FRAME_IDX = {...state}\r\n      if(action.payload!== undefined)SET_CURRENT_FRAME_IDX.currentFrameIDX = action.payload\r\n    return SET_CURRENT_FRAME_IDX;\r\n\r\n    case 'RESET_CURRENTPAGE':\r\n      let RESET_CURRENTPAGE = {...state}\r\n      RESET_CURRENTPAGE.nodeTree = null\r\n      RESET_CURRENTPAGE.currentPageIDX = action.payload\r\n    return RESET_CURRENTPAGE;\r\n\r\n    case 'SET_CURRENT_PAGE_IDX':\r\n      let SET_CURRENT_PAGE_IDX = {...state}\r\n      SET_CURRENT_PAGE_IDX.currentPageIDX = action.payload\r\n    return SET_CURRENT_PAGE_IDX;\r\n\r\n    case 'RMV_LOADING':\r\n      let RMV_LOADING = {...state}\r\n      RMV_LOADING.loading = false\r\n    return RMV_LOADING;\r\n\r\n    case 'LOADING':\r\n      let LOADING = {...state}\r\n      LOADING.loading = true\r\n    return LOADING;\r\n\r\n    case 'TOKEN':\r\n      let TOKEN = {...state}\r\n      TOKEN.token = action.payload\r\n    return TOKEN;\r\n\r\n    case 'UPDATE_FILE_DATA_FROM_FIGMA':\r\n      let UPDATE_FILE_DATA_FROM_FIGMA = {...state}\r\n      UPDATE_FILE_DATA_FROM_FIGMA.authData = action.payload.authData\r\n      UPDATE_FILE_DATA_FROM_FIGMA.figmaData = action.payload.pageData\r\n      //UPDATE_FILE_DATA_FROM_FIGMA.loading = false\r\n      UPDATE_FILE_DATA_FROM_FIGMA.nodeTree = null\r\n    return UPDATE_FILE_DATA_FROM_FIGMA;\r\n\r\n\r\n    default: throw new Error('Unexpected action');\r\n  }\r\n}\r\n\r\nexport default PyroReducer\r\nexport { initialPyroState }\r\n","import { useState,useEffect } from 'react'\r\nimport firebase from '../Utils/firebase'\r\n\r\nconst useAuth = ()=>{\r\n  const [user,setUser] = useState(null)\r\n\r\n  const listenToAuthState = ()=>\r\n    firebase.auth()\r\n      .onAuthStateChanged(user=>setUser(user))\r\n\r\n  useEffect(listenToAuthState,[])\r\n\r\n  return user\r\n}\r\n\r\nexport default useAuth\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\n\r\nconst SignIn = ()=>{\r\n  const auth = firebase.auth()\r\n\r\n  const signInWithGoogle=()=>{\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    auth.signInWithPopup(provider)\r\n  }\r\n  return (\r\n    <main className=\"SignIn\">\r\n      <button className=\"btn full\" onClick={signInWithGoogle}>Sign in</button>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default SignIn\r\n","import { useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport SignIn from '../SignIn'\r\nimport './Login.css'\r\n\r\nconst Login = ()=>{\r\n\r\n  const { onBoarding } = useContext(PyroStateContext)\r\n\r\n  return (\r\n    <main className=\"Login\">\r\n      <h1>Login</h1>\r\n      <p>Better design coming soon</p>\r\n      <SignIn/>\r\n    </main>\r\n  )\r\n}\r\nexport default Login\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\n\r\nconst SignOut = ()=>{\r\n  const auth = firebase.auth()\r\n  return (\r\n    <main className=\"SignOut\">\r\n      <button className=\"btn full\" onClick={()=>auth.signOut()} >Sign out</button>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default SignOut\r\n","import { useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport SignOut from '../SignOut'\r\nimport './UserNotAllowed.css'\r\n\r\nconst UserNotAllowed = ()=>{\r\n\r\n  const { onBoarding } = useContext(PyroStateContext)\r\n\r\n  return (\r\n    <main className=\"UserNotAllowed\">\r\n      <h1>User not allowed</h1>\r\n      <p>Better design coming soon</p>\r\n      <SignOut/>\r\n    </main>\r\n  )\r\n}\r\nexport default UserNotAllowed\r\n","const floatToRGB = channel =>{\r\n  if (channel!== 0 && channel!== 1) return channel*255\r\n  else if(channel === 1) return 255\r\n  else return channel\r\n}\r\nconst RenderedColor = color => {\r\n  const {r,g,b,a} = color\r\n  const alpha = a?','+a+')':')'\r\n  return 'rgb('+floatToRGB(r)+','+floatToRGB(g)+','+floatToRGB(b)+alpha\r\n}\r\nexport default RenderedColor\r\n","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport './InputDimensions.css'\r\n\r\nconst InputDimensions = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { protoWidth,protoHeight,minWidth,minHeight,smoov } = useContext(PyroStateContext)\r\n  const setInputDimensions = (e,isWidth) =>{\r\n    if(!isNaN(Number(e.target.value)))dispatch({type:isWidth?'SET_WIDTH':'SET_HEIGHT',payload:Number(e.target.value)})\r\n  }\r\n  const checkMax = (e,isWidth) =>{\r\n    if(isWidth){\r\n      if(Number(e.target.value)>window.innerWidth){\r\n        dispatch({type:'SET_WIDTH',payload:window.innerWidth})\r\n      }\r\n      if(Number(e.target.value)<minWidth){\r\n        dispatch({type:'SET_WIDTH',payload:minWidth})\r\n      }\r\n    } else {\r\n      if(Number(e.target.value)>window.innerHeight){\r\n        dispatch({type:'SET_HEIGHT',payload:window.innerHeight - 35})\r\n      }\r\n      if(Number(e.target.value)<minHeight){\r\n        dispatch({type:isWidth?'SET_WIDTH':'SET_HEIGHT',payload:minHeight})\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"InputDimensions\">\r\n      <span>w</span>\r\n      <input\r\n        disabled={smoov}\r\n        onFocus={e=>e.target.select()}\r\n        onChange={e=>setInputDimensions(e,true)}\r\n        onBlur={e=>checkMax(e,true)}\r\n        value={Math.round(protoWidth)}\r\n        type=\"text\"/>\r\n      <span>h</span>\r\n      <input\r\n        disabled={smoov}\r\n        onFocus={e=>e.target.select()}\r\n        onChange={e=>setInputDimensions(e,false)}\r\n        onBlur={e=>checkMax(e,false)}\r\n        value={Math.round(protoHeight)}\r\n        type=\"text\"/>\r\n  </div>\r\n  )\r\n}\r\nexport default InputDimensions\r\n","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport './User.css'\r\n\r\nconst User = ()=>{\r\n  const { userData } = useContext(PyroStateContext)\r\n  const { displayName,email,photoURL} = userData\r\n\r\n  return (\r\n    <div className=\"User\">\r\n      {photoURL&&<img src={photoURL} width=\"30\" alt={displayName}/>}\r\n      <span>{displayName}</span>\r\n    </div>\r\n  )\r\n}\r\nexport default User\r\n","export default __webpack_public_path__ + \"static/media/mobile.bcb52078.svg\";","export default __webpack_public_path__ + \"static/media/tablet.cfcfcd73.svg\";","export default __webpack_public_path__ + \"static/media/desktop.9125ff19.svg\";","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport mobile from '../../assets/images/mobile.svg'\r\nimport tablet from '../../assets/images/tablet.svg'\r\nimport desktop from '../../assets/images/desktop.svg'\r\nimport './Dimensions.css'\r\n\r\nconst Dimensions = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { protoWidth,protoHeight,smoov,tabletWidth,tabletHeight } = useContext(PyroStateContext)\r\n  const setDimensions = dimensions =>{\r\n    let size = \"SET_MOBILE\"\r\n    switch (dimensions) {\r\n      case \"mobile\":size=\"SET_MOBILE\";break;\r\n      case \"desktop\":size=\"SET_DESKTOP\";break;\r\n      case \"tablet\":size=\"SET_TABLET\";break;\r\n      default:size=\"SET_MOBILE\";\r\n    }\r\n    dispatch({type:size})\r\n    setTimeout(()=>dispatch({type:'REMOVE_SMOOV'}),1000)\r\n  }\r\n  return (\r\n    <div className=\"Dimensions\">\r\n      <button\r\n        disabled={smoov}\r\n        onClick={()=>setDimensions(\"mobile\")}\r\n        className={protoWidth <= 450 ?'active':null}>\r\n        <img src={mobile} alt=\"mobile\"/>\r\n      </button>\r\n      <button\r\n        disabled={smoov}\r\n        onClick={()=>setDimensions(\"desktop\")}\r\n        className={protoWidth > 1024 ?'active':null}>\r\n        <img src={desktop} alt=\"desktop\"/>\r\n      </button>\r\n      <button\r\n        disabled={smoov}\r\n        onClick={()=>setDimensions(\"tablet\")}\r\n        className={protoWidth === tabletWidth&&protoHeight === tabletHeight ?'active':null}>\r\n        <img src={tablet} alt=\"mobile\"/>\r\n      </button>\r\n  </div>\r\n  )\r\n}\r\nexport default Dimensions\r\n","export default __webpack_public_path__ + \"static/media/pyro_white.1a68b823.svg\";","import React,{ useContext,useState } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport InputDimensions from '../InputDimensions'\r\nimport User from '../User'\r\nimport SignOut from '../SignOut'\r\nimport Dimensions from '../Dimensions'\r\nimport pyro from '../../assets/images/pyro_white.svg'\r\nimport './ProtoActions.css'\r\n\r\nconst ProtoActions = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { userData,loading,figmaData,token,currentPageIDX,figmaFile,currentFrameID } = useContext(PyroStateContext)\r\n  const [ pagesOpen,setPagesOpen ] = useState(false)\r\n  const handlePageMenuClick = e =>{\r\n    dispatch({type:'SET_CURRENT_PAGE_IDX',payload:Number(e.target.getAttribute('idx'))})\r\n    setPagesOpen(false)\r\n  }\r\n\r\n  return (\r\n    <nav className=\"ProtoActions\">\r\n      <section>\r\n        <img src={pyro} height=\"27\" alt=\"pyro\"/>\r\n      </section>\r\n      {figmaData&&currentFrameID?\r\n        (<section className=\"fileInfo\">\r\n          <h1>{figmaData.name} - {figmaData.children[currentPageIDX].name}</h1>\r\n        </section>):\r\n        <h1 className=\"faded\">Proto name - Page name</h1>\r\n        }\r\n      <section className=\"actions\">\r\n        <button className=\"btn full\"><span>Share</span></button>\r\n        <Dimensions/>\r\n        <InputDimensions/>\r\n        {userData&&<User/>}\r\n        <SignOut/>\r\n    </section>\r\n  </nav>\r\n  )\r\n}\r\nexport default ProtoActions\r\n","import React from 'react'\r\nimport './Empty.css'\r\n\r\nconst Empty = ()=>(\r\n  <section className=\"Empty\">\r\n    <p>\r\n      <span>Nothing to see here</span>\r\n      <span></span>\r\n    </p>\r\n  </section>\r\n)\r\nexport default Empty\r\n","const ReturnVisibility = (pluginState,condition) =>{\r\n  const isC2 = String(condition.condition2)==='true'||String(condition.condition2)==='false'?String(condition.condition2):String(pluginState.pluginVariables[condition.condition2]).toLowerCase()\r\n  const nbC1 = Number(pluginState.pluginVariables[condition.condition1])\r\n  const nbC2 = isC2 === 'mt'?0:Number(isC2)\r\n  const c1 = String(pluginState.pluginVariables[condition.condition1]).toLowerCase()\r\n  let thisString = isC2 === 'mt'?'':isC2\r\n  switch (condition.operator) {\r\n    case 'isEqualTo':\r\n      if(c1 === isC2) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'different':\r\n      if(c1 !== thisString) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'contains':\r\n      const idxC2 = pluginState.pluginVariables[condition.condition1].toLowerCase().indexOf(thisString)\r\n      if(idxC2!== -1) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'isGreaterThan':\r\n      if(isNaN(nbC1)||isNaN(nbC2))return false\r\n      if(nbC1 > nbC2) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'isInferiorTo':\r\n      if(isNaN(nbC1)||isNaN(nbC2))return false\r\n      if(nbC1 < nbC2) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'isGreaterThanOrEqualTo':\r\n      if(isNaN(nbC1)||isNaN(nbC2))return false\r\n      if(nbC1 >= nbC2) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    case 'isInferiorOrEqualTo':\r\n      if(isNaN(nbC1)||isNaN(nbC2))return false\r\n      if(nbC1 <= nbC2) return condition.show\r\n      else return !condition.show\r\n    break;\r\n    default: return 'nothing'\r\n  }\r\n\r\n}\r\nexport default ReturnVisibility\r\n","import React,{ useRef,useEffect,useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport './Gradients.css'\r\n\r\nconst Gradients = ({bg,gradType})=>{\r\n  const { protoWidth,protoHeight,figmaData } = useContext(PyroStateContext)\r\n  const canvasRef = useRef(null)\r\n  const { opacity,blendMode,gradientStops,gradientTransform } = bg\r\n\r\n  const makeGradients =()=>{\r\n    const startGradient = gradientTransform.start\r\n    const endGradient = gradientTransform.end\r\n    const c = canvasRef.current.getContext('2d')\r\n    c.clearRect(0, 0, Math.round(protoWidth), protoHeight)\r\n\r\n    const x0 = startGradient.x*Math.round(protoWidth)\r\n    const y0 = startGradient.y*Math.round(protoHeight)\r\n    const x1 = endGradient.x*Math.round(protoWidth)\r\n    const y1 = endGradient.y*Math.round(protoHeight)\r\n    const gradientWith = Math.sqrt(((x0-y0)*(x0-y0))+((x1-y1)*(x1-y1)))\r\n    let grad\r\n    switch (gradType) {\r\n      case 'linear':grad = c.createLinearGradient(x0,y0,x1,y1);break;\r\n      case 'radial':grad = c.createRadialGradient(x0,y0,0,x0,y0,gradientWith);break;\r\n      default:grad = c.createLinearGradient(x0,y0,x1,y1);break;\r\n    }\r\n\r\n    gradientStops.forEach((stop,idx) => {\r\n      const { position,color } = stop\r\n      grad.addColorStop(position,RenderedColor(color))\r\n    })\r\n    c.fillStyle = grad\r\n    c.fillRect(0,0,Math.round(protoWidth),Math.round(protoHeight))\r\n  }\r\n\r\n  const bgBlend = ()=> {\r\n    return {\r\n      opacity: opacity,\r\n      mixBlendMode: blendMode.toLowerCase().split('_').join('-')\r\n    }\r\n  }\r\n\r\n\r\n\r\n  useEffect(makeGradients,[figmaData,protoHeight,protoWidth])\r\n  return (\r\n    <div style={bgBlend()} className=\"Gradients\">\r\n      <canvas\r\n        width={protoWidth}\r\n        height={protoHeight}\r\n        ref={canvasRef}/>\r\n    </div>\r\n  )\r\n}\r\nexport default Gradients\r\n","import React from 'react'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport './SolidBG.css'\r\n\r\nconst SolidBG = ({bg})=>{\r\n  const sldBg = ()=>{\r\n    return {\r\n      background:RenderedColor(bg.color),\r\n      opacity: bg.opacity,\r\n      mixBlendMode: bg.blendMode.toLowerCase().split('_').join('-')\r\n    }\r\n  }\r\n  return <div className=\"SolidBG\" style={sldBg()}/>\r\n}\r\nexport default SolidBG\r\n","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport './ImageBG.css'\r\n\r\nconst ImageBG = ({bg,constraints})=>{\r\n  const { fileImages,protoWidth,protoHeight,smoov } = useContext(PyroStateContext)\r\n  const fill = ()=>{\r\n    if(protoWidth < protoHeight) return {height:protoHeight}\r\n    return {height:protoWidth}\r\n  }\r\n  const tile = ()=>{\r\n    if(fileImages) return {...bgBlend(),backgroundImage:\"url(\"+fileImages[bg.imageRef]+\")\"}\r\n    return null\r\n  }\r\n\r\n  const bgBlend = ()=> {\r\n    return {\r\n      opacity: bg.opacity,\r\n      mixBlendMode: bg.blendMode.toLowerCase().split('_').join('-')\r\n    }\r\n  }\r\n\r\n  if(!fileImages)return null\r\n  return (\r\n    <div\r\n      style={bg.scaleMode==='TILE'?tile():bgBlend()}\r\n      className={`ImageBG ${bg.scaleMode.toLowerCase()} ${constraints.horizontal === \"CENTER\"?'maxWidth':null} ${protoWidth<protoHeight?'portrait':'landscape'} ${smoov?'smoov':''}`}>\r\n      {bg.scaleMode!=='TILE'&&<img src={fileImages[bg.imageRef]} style={bg.scaleMode === 'FILL'?fill():null}alt=\"protoBg\"/>}\r\n    </div>\r\n  )\r\n}\r\nexport default ImageBG\r\n","import React from 'react'\r\nimport Gradients from '../Gradients'\r\nimport SolidBG from '../SolidBG'\r\nimport ImageBG from '../ImageBG'\r\nimport './Background.css'\r\n\r\nconst Background = ({ element })=>{\r\n\r\n  const makeBackground = (bg,idx) => {\r\n    const key = element.id+idx\r\n    if (!bg.hasOwnProperty(\"visible\")||bg.visible) {\r\n      switch (bg.type) {\r\n\r\n        case \"GRADIENT_LINEAR\":\r\n          return (\r\n              <Gradients\r\n                gradType=\"linear\"\r\n                key={key}\r\n                bg={bg}/>\r\n            );break;\r\n\r\n        case \"GRADIENT_RADIAL\":\r\n        case \"GRADIENT_DIAMOND\":\r\n        case \"GRADIENT_ANGULAR\":\r\n          return (\r\n              <Gradients\r\n                gradType=\"radial\"\r\n                key={key}\r\n                bg={bg}/>\r\n            );break;\r\n\r\n        case \"IMAGE\": return <ImageBG constraints={element.constraints} bg={bg} key={key}/>;break;\r\n\r\n        default: return <SolidBG bg={bg} key={key}/>\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  if(!element.hasOwnProperty(\"background\")&&!element.hasOwnProperty(\"fills\"))return null\r\n  return (\r\n    <section className=\"Background\">\r\n      {(element.hasOwnProperty(\"background\")&&element.background&&element.background.length>0)&&element.background.map((bg,idx)=>makeBackground(bg,idx))}\r\n      {(element.hasOwnProperty(\"fills\")&&element.fills.length>0)&&element.fills.map((bg,idx)=>makeBackground(bg,idx))}\r\n    </section>\r\n  )\r\n}\r\nexport default Background\r\n","import React,{ useRef,useEffect,useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport './StrokeGradients.css'\r\n\r\nconst StrokeGradients = ({str,gradType,strokeWeight})=>{\r\n  const { protoWidth,protoHeight,figmaData } = useContext(PyroStateContext)\r\n  const canvasRef = useRef(null)\r\n  const { opacity,blendMode,gradientHandlePositions,gradientStops } = str\r\n\r\n  const makeStrokeGradients =()=>{\r\n    const startGradient = gradientHandlePositions[0]\r\n    const endGradient = gradientHandlePositions[1]\r\n    const c = canvasRef.current.getContext('2d')\r\n    c.clearRect(0, 0, Math.round(protoWidth), protoHeight)\r\n\r\n    const x0 = startGradient.x*Math.round(protoWidth)\r\n    const y0 = startGradient.y*Math.round(protoHeight)\r\n    const x1 = endGradient.x*Math.round(protoWidth)\r\n    const y1 = endGradient.y*Math.round(protoHeight)\r\n    const gradientWith = Math.sqrt(((x0-y0)*(x0-y0))+((x1-y1)*(x1-y1)))\r\n    let grad\r\n    switch (gradType) {\r\n      case 'linear':grad = c.createLinearGradient(x0,y0,x1,y1);break;\r\n      case 'radial':grad = c.createRadialGradient(x0,y0,0,x0,y0,gradientWith);break;\r\n      default:grad = c.createLinearGradient(x0,y0,x1,y1);break;\r\n    }\r\n\r\n    gradientStops.forEach((stop,idx) => {\r\n      const { position,color } = stop\r\n      grad.addColorStop(position,RenderedColor(color))\r\n    })\r\n    c.strokeStyle = grad\r\n    c.lineWidth = strokeWeight*2\r\n    c.strokeRect(0,0,Math.round(protoWidth),Math.round(protoHeight))\r\n  }\r\n\r\n  const strBlend = ()=> {\r\n    return {\r\n      opacity: opacity,\r\n      mixBlendMode: blendMode.toLowerCase().split('_').join('-')\r\n    }\r\n  }\r\n\r\n\r\n\r\n  useEffect(makeStrokeGradients,[figmaData,protoHeight,protoWidth])\r\n  return (\r\n    <div style={strBlend()} className=\"StrokeGradients\">\r\n      <canvas\r\n        width={protoWidth}\r\n        height={protoHeight}\r\n        ref={canvasRef}/>\r\n    </div>\r\n  )\r\n}\r\nexport default StrokeGradients\r\n","import React from 'react'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport './StrokeSolidBG.css'\r\n\r\nconst StrokeSolidBG = ({element,str,strokeWeight})=>{\r\n\r\n  const radius = ()=>{\r\n    if(element.hasOwnProperty(\"rectangleCornerRadius\")){\r\n      return element.rectangleCornerRadius.reduce((acc,itm,idx)=>{\r\n        acc = acc + itm+\"px \"\r\n        return acc\r\n      },\"\")\r\n    } else if(element.hasOwnProperty('cornerRadius')){\r\n      return element.cornerRadius + 'px'\r\n    } else return null\r\n  }\r\n\r\n  const sldBg = ()=>{\r\n    return {\r\n      borderRadius:radius(),\r\n      border: strokeWeight +\"px solid \" + RenderedColor(str.color),\r\n      opacity: str.opacity,\r\n      mixBlendMode: str.blendMode.toLowerCase().split('_').join('-')\r\n    }\r\n  }\r\n  return <div className=\"StrokeSolidBG\" style={sldBg()}/>\r\n}\r\nexport default StrokeSolidBG\r\n","import React from 'react'\r\nimport StrokeGradients from '../StrokeGradients'\r\nimport StrokeSolidBG from '../StrokeSolidBG'\r\nimport './Stroke.css'\r\n\r\nconst Stroke = ({ element })=>{\r\n  if(!element.hasOwnProperty('strokes')) return null\r\n  const makeStroke = (str,idx) => {\r\n    const key = element.id+idx\r\n    if (!str.hasOwnProperty(\"visible\")||str.visible) {\r\n      switch (str.type) {\r\n\r\n        case \"GRADIENT_LINEAR\":\r\n          return (\r\n              <StrokeGradients\r\n                strokeWeight={element.strokeWeight}\r\n                gradType=\"linear\"\r\n                key={key}\r\n                str={str}/>\r\n            );break;\r\n\r\n        case \"GRADIENT_RADIAL\":\r\n        case \"GRADIENT_DIAMOND\":\r\n        case \"GRADIENT_ANGULAR\":\r\n          return (\r\n              <StrokeGradients\r\n                strokeWeight={element.strokeWeight}\r\n                gradType=\"radial\"\r\n                key={key}\r\n                str={str}/>\r\n            );break;\r\n\r\n        default: return (\r\n          <StrokeSolidBG\r\n            strokeWeight={element.strokeWeight}\r\n            element={element}\r\n            str={str}\r\n            key={key}/>\r\n        )\r\n      }\r\n    }\r\n    return null\r\n  }\r\n  if(element.strokes.length ===0)return null\r\n  return (\r\n    <section className=\"Stroke\">\r\n      {element.hasOwnProperty(\"strokes\")&&element.strokes.map((str,idx)=>makeStroke(str,idx))}\r\n    </section>\r\n  )\r\n}\r\nexport default Stroke\r\n","import React,{ useContext,useEffect,useState } from 'react'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport Background from '../Background'\r\nimport Stroke from '../Stroke'\r\nimport './Vector.css'\r\n\r\nconst Vector = ({handleClick,node,style}) =>{\r\nconst { vectors } = useContext(PyroStateContext)\r\nconst { transitionNodeID,name,id,strokeWeight } = node\r\nconst {vectorPaths,width,height} = vectors[id]\r\nconst [vectorStyle,setVectorStyle] = useState({...style})\r\nconst [SVGStyle,setSVGStyle] = useState(null)\r\nconst [pathStyle,setPathStyle] = useState(null)\r\n\r\nconst setVector = ()=>{\r\n  let tempStyle = {...vectorStyle}\r\n  tempStyle.width = width\r\n  tempStyle.height = height\r\n  tempStyle[\"WebkitClipPath\"] = \"url(#\"+id+\")\"\r\n  setVectorStyle(tempStyle)\r\n  let tempSVG = {}\r\n  tempSVG.width = width\r\n  tempSVG.height = height\r\n  setSVGStyle(tempSVG)\r\n  let path = {}\r\n  path.stroke = width\r\n  path.strokeWidth = strokeWeight*2\r\n  if(node.strokes.length)path.stroke = RenderedColor(node.strokes[0].color)\r\n  setPathStyle(path)\r\n}\r\nuseEffect(setVector,[])\r\n  return (\r\n    <article\r\n      onClick={handleClick}\r\n      className={`Vector ${transitionNodeID?'clickable':null}`}\r\n      style={vectorStyle}>\r\n      <Background element={node}/>\r\n      <svg\r\n        style={SVGStyle}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={width}\r\n        height={height}\r\n        viewBox={`0 0 ${width} ${height}`}>\r\n        <path strokeLinecap=\"round\" style={pathStyle} d={vectorPaths}/>\r\n      </svg>\r\n      <svg\r\n        style={SVGStyle}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={width}\r\n        height={height}\r\n        viewBox={`0 0 ${width} ${height}`}>\r\n          <defs>\r\n            <clipPath id={id} >\r\n              <path d={vectorPaths}/>\r\n            </clipPath>\r\n         </defs>\r\n      </svg>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Vector\r\n","import React,{ useEffect,useState,useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport ReturnVisibility from '../../Utils/ReturnVisibility'\r\nimport Background from '../Background'\r\nimport './Text.css'\r\n\r\nconst Text = ({handleClick,node,style:posStyle}) =>{\r\nconst {\r\n  id,\r\n  transitionNodeID,\r\n  name,\r\n  characters,\r\n  textAlignHorizontal,\r\n  textAlignVertical,\r\n  textAutoResize,\r\n  textCase,\r\n  textDecoration,\r\n  fontName,\r\n  fontSize,\r\n  layoutAlign,\r\n  layoutGrow,\r\n  letterSpacing,\r\n  lineHeight,\r\n  listSpacing\r\n } = node\r\nconst [ textStyles,setTextStyles ] = useState(null)\r\nconst txtStyles = {\r\n  textAlign:textAlignHorizontal,\r\n  textAlignVertical,\r\n  textAutoResize,\r\n  textTransform:textCase,\r\n  textDecoration,\r\n  fontStyle:fontName.style,\r\n  fontFamily:fontName.family,\r\n  fontSize,\r\n  layoutAlign,\r\n  layoutGrow,\r\n  letterSpacing,\r\n  lineHeight,\r\n  listSpacing\r\n}\r\n\r\nconst { pluginState } = useContext(PyroStateContext)\r\n\r\nconst getStyles = ()=>{\r\n  switch (txtStyles.textTransform) {\r\n    case \"UPPER\":txtStyles.textTransform=\"uppercase\";break;\r\n    case \"LOWER\":txtStyles.textTransform=\"lowercase\";break;\r\n    case \"TITLE\":txtStyles.textTransform=\"capitalize\";break;\r\n    default: txtStyles.textTransform=\"normal\";\r\n  }\r\n  delete txtStyles[\"textCase\"]\r\n  delete txtStyles[\"lineHeightPercent\"]\r\n  delete txtStyles[\"lineHeightPx\"]\r\n  delete txtStyles[\"textAutoResize\"]\r\n  if(txtStyles.textAlignVertical !== \"TOP\"||txtStyles.textAlignHorizontal!==\"LEFT\"){\r\n    txtStyles.display = \"flex\"\r\n    let justif,align\r\n    switch (txtStyles.textAlignHorizontal) {\r\n      case \"CENTER\":\r\n        justif = \"center\"\r\n        txtStyles.margin = \"auto\";\r\n      break;\r\n      case \"RIGHT\":justif = \"flex-end\";break;\r\n    }\r\n    switch (txtStyles.textAlignVertical) {\r\n      case \"CENTER\":\r\n        align = \"center\";\r\n        txtStyles.margin = \"auto\";\r\n      break;\r\n      case \"BOTTOM\":align = \"flex-end\";break;\r\n    }\r\n    txtStyles.justifyContent = justif\r\n    txtStyles.alignItems = align\r\n  }\r\n\r\n  txtStyles.color = RenderedColor(node.fills[0].color)\r\n  setTextStyles(txtStyles)\r\n}\r\nconst sumStyles = ()=>{\r\n  const temp = {...posStyle,...textStyles}\r\n  if(pluginState.pluginConditions.hasOwnProperty(id)) {\r\n    const showMe = Object.keys(pluginState.pluginConditions[id]).every(condition => {\r\n      const isVisible = ReturnVisibility(pluginState,pluginState.pluginConditions[id][condition])\r\n      if(isVisible) return true\r\n      else return false\r\n    })\r\n    if(!showMe)temp.display = \"none\"\r\n    else temp.display = \"block\"\r\n  }\r\n  delete temp.height\r\n  return temp\r\n}\r\nuseEffect(getStyles,[])\r\nif(!pluginState)return null\r\nconst { pluginTexts,pluginVariables,pluginConditions } = pluginState\r\n  return (\r\n    <p\r\n      onClick={handleClick}\r\n      style={sumStyles()}\r\n      className={`Text ${node.name.split(' ')[0]} ${transitionNodeID?'clickable':null}`}>\r\n      {(pluginTexts&&pluginTexts.hasOwnProperty(id)&&pluginVariables[pluginTexts[id].varID]==='mt')?'':pluginTexts&&pluginTexts.hasOwnProperty(id)?String(pluginVariables[pluginTexts[id].varID]):characters}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Text\r\n","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport Background from '../Background'\r\nimport './Field.css'\r\n\r\nconst Field = ({handleClick,node,style}) =>{\r\n  const { transitionNodeID,name,id } = node\r\n  const dispatch= useContext(PyroDispatchContext)\r\n  const { pluginState } = useContext(PyroStateContext)\r\n  const { pluginFields,pluginVariables } = pluginState\r\n  const { placeHolder,type,varID } = pluginFields[id]\r\n\r\n  return (\r\n    <input\r\n      className=\"Field\"\r\n      onFocus={e=>e.target.select()}\r\n      onChange={e=>dispatch({type:'UPDATE_FIELD_VALUE',payload:{val:e.target.value,variable:varID}})}\r\n      placeholder={placeHolder}\r\n      type={type}\r\n      value={pluginVariables[varID]==='mt'?'':pluginVariables[varID]}/>\r\n  )\r\n}\r\n\r\nexport default Field\r\n","import React from 'react'\r\nimport Background from '../Background'\r\nimport './Ellipse.css'\r\n\r\nconst Ellipse = ({handleClick,node,style}) =>(\r\n  <article\r\n    onClick={handleClick}\r\n    style={style}\r\n    className={`Ellipse ${node.name.split(' ').join('_')} ${node.transitionNodeID?'clickable':null}`}>\r\n    <Background element={node}/>\r\n  </article>\r\n)\r\n\r\nexport default Ellipse\r\n","import React,{ useContext,useEffect,useState } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport ReturnVisibility from '../../Utils/ReturnVisibility'\r\nimport Background from '../Background'\r\nimport Stroke from '../Stroke'\r\nimport Vector from '../Vector'\r\nimport Text from '../Text'\r\nimport Field from '../Field'\r\nimport Ellipse from '../Ellipse'\r\nimport './Element.css'\r\n\r\nconst Element = ({node,parent}) =>{\r\n\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { updateVis,pluginState,pluginStateChanges,rotations,vectors,figmaData,currentFrameID,nodeTree,protoWidth,protoHeight,currentPageIDX } = useContext(PyroStateContext)\r\n\r\n  const currentPage = figmaData.children[currentPageIDX]\r\n  const currentFrame = currentPage.children[currentFrameID]\r\n  const { transitionNodeID,opacity,effects,visible,constraints,type,id,name,absoluteBoundingBox,layoutMode,reactions } = node\r\n  const [ parentNode,setParentNode ] = useState(currentFrame)\r\n  const [ nodeStyle,setNodeStyle ] = useState(null)\r\n  const [ flexChild,setFlexChild ] = useState(false)\r\n  const [ clickable,makeClickable ] = useState(false)\r\n  const [ classNames,setClassNames ] = useState('')\r\n  const flexParent = node.hasOwnProperty(\"layoutMode\")\r\n  let tempStyle = {}\r\n\r\n  const setDimension =()=>{\r\n    const { width,height } = absoluteBoundingBox\r\n    if(constraints){\r\n      switch (constraints.horizontal) {\r\n        case \"CENTER\":case \"MIN\":case \"MAX\":\r\n          if(node.layoutAlign!=='STRETCH')tempStyle.width = width;\r\n        break;\r\n      }\r\n      switch (constraints.vertical) {\r\n        case \"CENTER\":case \"MIN\":case \"MAX\":\r\n          if(node.layoutGrow!== 1)tempStyle.height = height\r\n          else tempStyle.height = \"100%\";\r\n        break;\r\n      }\r\n    } else {\r\n      tempStyle.width = width\r\n      tempStyle.height = height\r\n    }\r\n\r\n    if(effects.length){\r\n      tempStyle.width = node.width\r\n      tempStyle.height = node.height\r\n    }\r\n\r\n  }\r\n\r\n  const setOpacity =()=> tempStyle.opacity = opacity.toFixed(2)\r\n  const setAxis= priority =>{\r\n    let axis = null\r\n    if (priority !== undefined) {\r\n      switch (priority) {\r\n        case \"SPACE_AROUND\":axis = \"space-around\";break;\r\n        case \"SPACE_BETWEEN\":axis = \"space-between\";break;\r\n        case \"FIXED\":axis = \"flex-start\";break;\r\n        case \"CENTER\":axis = \"center\";break;\r\n        case \"MAX\":axis = \"flex-end\";break;\r\n        default: axis = \"flex-start\"\r\n      }\r\n    }\r\n    return axis\r\n  }\r\n\r\n  const setFlex =()=>{\r\n    const { primaryAxisAlignItems,counterAxisAlignItems } = node\r\n    tempStyle.display = \"flex\"\r\n    if(layoutMode === 'VERTICAL')tempStyle.flexDirection = 'column'\r\n    tempStyle.justifyContent = setAxis(primaryAxisAlignItems)\r\n    tempStyle.alignItems = setAxis(counterAxisAlignItems)\r\n    const { paddingTop,paddingRight,paddingBottom,paddingLeft } = node\r\n    tempStyle.padding = paddingTop?paddingTop:0+\"px \"+paddingRight?paddingRight:0+\"px \"+paddingBottom?paddingBottom:0+\"px \"+paddingLeft?paddingLeft:0+\"px\"\r\n    tempStyle.boxSizing = \"border-box\"\r\n  }\r\n\r\n  const setEffects =()=>{\r\n    if(effects){\r\n      effects.forEach(fx => {\r\n        const {type:fxType,offset,radius,visible,color} = fx\r\n        if (visible) {\r\n          switch (fxType) {\r\n            case \"DROP_SHADOW\":\r\n              const { x,y } = offset\r\n              tempStyle.boxShadow = x +\"px \"+y+\"px \"+radius+\"px \"+ RenderedColor(color);\r\n            break;\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  const setRotate =()=>tempStyle.transform = \"rotate(\"+Math.round(rotations[id].rotation)+\"deg)\"\r\n  //@TODO rotate shadow as well :)\r\n\r\n\r\n  const setPosition =()=>{\r\n    const { x,y,width,height } = absoluteBoundingBox\r\n    tempStyle.position = \"absolute\"\r\n    let top = y - currentFrame.absoluteBoundingBox.y\r\n    let left = x - currentFrame.absoluteBoundingBox.x\r\n    if(constraints){\r\n\r\n      switch (constraints.horizontal) {\r\n        case \"SCALE\":\r\n          tempStyle.left = left\r\n          //tempStyle.width = width/currentFrame.absoluteBoundingBox.width*100 + \"%\"\r\n        ;break;\r\n        case \"MIN\":case \"CENTER\":tempStyle.left = left ;break;\r\n        case \"MAX\": tempStyle.right = currentFrame.absoluteBoundingBox.width - (width + left);break;\r\n        case \"STRETCH\":\r\n          tempStyle.left = left\r\n          tempStyle.right = currentFrame.absoluteBoundingBox.width - (width + left)\r\n        ;break;\r\n      }\r\n      switch (constraints.vertical) {\r\n        case \"SCALE\":\r\n          tempStyle.top = top\r\n          //tempStyle.height = height/currentFrame.absoluteBoundingBox.height*100 + \"%\"\r\n          ;break;\r\n        case \"MIN\":case \"CENTER\":tempStyle.top = top;break;\r\n        case \"MAX\":tempStyle.bottom = currentFrame.absoluteBoundingBox.height - (height + top);break;\r\n        case \"STRETCH\":\r\n          tempStyle.top = top\r\n          tempStyle.bottom = currentFrame.absoluteBoundingBox.height - (height + top)\r\n        ;break;\r\n      }\r\n    }\r\n    else {\r\n      tempStyle.top = top\r\n      tempStyle.left = left\r\n    }\r\n\r\n    if(nodeTree.hasOwnProperty(parent)&&nodeTree[parent].type !== 'FRAME'&&nodeTree[parent].type !== 'GROUP'){\r\n      const parentPos = nodeTree[parent].absoluteBoundingBox\r\n      switch (constraints.horizontal) {\r\n        case \"MIN\":case \"CENTER\":case \"SCALE\":tempStyle.left = tempStyle.left - (parentPos.x - currentFrame.absoluteBoundingBox.x);break;\r\n        case \"MAX\":tempStyle.right = tempStyle.right - parentPos.width - (width + left);break;\r\n        case \"STRETCH\":\r\n          tempStyle.left = tempStyle.left - parentPos.x\r\n          tempStyle.right = tempStyle.right - parentPos.width - (width + left)\r\n        ;break;\r\n      }\r\n      switch (constraints.vertical) {\r\n        case \"MIN\":case \"CENTER\":case \"SCALE\":tempStyle.top = tempStyle.top - (parentPos.y - currentFrame.absoluteBoundingBox.y);break;\r\n        case \"MAX\":tempStyle.bottom = tempStyle.bottom - parentPos.height - (height + top);break;\r\n        case \"STRETCH\":\r\n          tempStyle.top = tempStyle.top - parentPos.y\r\n          tempStyle.bottom = tempStyle.bottom - parentPos.width - (width + left)\r\n        ;break;\r\n      }\r\n    }\r\n    if(nodeTree.hasOwnProperty(node.parentNode)&&nodeTree[node.parentNode].type === 'GROUP'){\r\n      tempStyle.top = 0\r\n      tempStyle.left = 0\r\n    }\r\n  }\r\n  const conditionBasedVisibility =()=>{\r\n    if(pluginState.pluginConditions.hasOwnProperty(id)) {\r\n      const showMe = Object.keys(pluginState.pluginConditions[id]).every(condition => {\r\n        const isVisible = ReturnVisibility(pluginState,pluginState.pluginConditions[id][condition])\r\n        if(isVisible) return true\r\n        else return false\r\n      })\r\n      if(!showMe)tempStyle.display = \"none\"\r\n    }\r\n  }\r\n\r\n\r\n  const setVisibility = ()=>{\r\n    if(visible!==undefined){\r\n      const setKey = {\r\n        id,attribute:\"visible\",value:visible\r\n      }\r\n      dispatch({type:'SET_ATTRIBUTE',payload:setKey})\r\n      if(!visible)tempStyle.display = \"none\"\r\n    }\r\n\r\n    if(pluginState)conditionBasedVisibility()\r\n    if(nodeStyle)setNodeStyle({...nodeStyle,...tempStyle})\r\n\r\n  }\r\n\r\n  const setChild =()=>{\r\n    const parentNodee = nodeTree[parent]\r\n    const itemSpacing = parentNodee.itemSpacing\r\n    const parentChildren = Object.keys(parentNodee.children)\r\n    const firstChild = parentNodee.order[0] === id\r\n    if(!firstChild&&parentChildren.length>1)tempStyle[parentNodee.layoutMode===\"VERTICAL\"?\"marginTop\":\"marginLeft\"] = itemSpacing\r\n    const flexDirectionIsHorizontal = parentNodee.layoutMode===\"HORIZONTAL\"\r\n      if(flexChild&&node.layoutAlign==='STRETCH')tempStyle[flexDirectionIsHorizontal?'height':'width'] = \"100%\"\r\n      if (flexChild) {\r\n        if(node.layoutGrow===1)tempStyle.flex = 1\r\n        else tempStyle[flexDirectionIsHorizontal?'width':'height'] = absoluteBoundingBox[flexDirectionIsHorizontal?'width':'height']\r\n      }\r\n  }\r\n\r\n  const setRadius=()=>{\r\n    if(node.hasOwnProperty(\"rectangleCornerRadius\")){\r\n      const radius = node.rectangleCornerRadius.reduce((acc,itm,idx)=>{\r\n        acc = acc + itm+\"px \"\r\n        return acc\r\n      },\"\")\r\n      tempStyle.borderRadius = radius\r\n      tempStyle.overflow = \"hidden\"\r\n    }\r\n      if(node.hasOwnProperty(\"cornerRadius\")){\r\n        tempStyle.borderRadius = node.cornerRadius\r\n        tempStyle.overflow = \"hidden\"\r\n    }\r\n  }\r\n\r\n  const centerStyle = isParent =>{\r\n    if(nodeStyle){\r\n      const centerParent = {...nodeStyle}\r\n      const childStyle = {...nodeStyle}\r\n      delete centerParent.width\r\n      delete centerParent.height\r\n      delete childStyle.height\r\n      delete centerParent.left\r\n      delete centerParent.right\r\n\r\n      const x = node.absoluteBoundingBox.x - currentFrame.absoluteBoundingBox.x\r\n      const isLeft = x <= (currentFrame.absoluteBoundingBox.width - childStyle.width) / 2\r\n\r\n      let calcChildWidth\r\n      if(isLeft){\r\n        calcChildWidth = currentFrame.absoluteBoundingBox.width - (x*2)\r\n      } else {\r\n        const xRight = (currentFrame.absoluteBoundingBox.width - (childStyle.width + childStyle.left))\r\n        calcChildWidth = currentFrame.absoluteBoundingBox.width - (xRight*2)\r\n        childStyle.display = \"flex\"\r\n        childStyle.justifyContent = \"flex-end\"\r\n      }\r\n\r\n      delete childStyle.position\r\n      delete childStyle.left\r\n      delete childStyle.top\r\n      delete childStyle.bottom\r\n      childStyle.width = calcChildWidth\r\n      if(!centerParent.width)delete centerParent.width\r\n      if(!childStyle.width)delete childStyle.width\r\n      return isParent==='parent'?centerParent:childStyle\r\n    } else return {background:'red'}\r\n  }\r\n\r\n  const handleEvent = eventType =>{\r\n    if (pluginState) {\r\n\r\n      if (pluginState.pluginActions.hasOwnProperty(id)) {\r\n        Object.keys(pluginState.pluginActions[id]).forEach(action => {\r\n          if(eventType.indexOf(pluginState.pluginActions[id][action].eventType) !== -1 ){\r\n            dispatch({type:'UPDATE_PLUGIN_STATE',payload:{\r\n              pluginAction:pluginState.pluginActions[id][action],eventType\r\n            }})\r\n          }\r\n        })\r\n        makeClickable(true)\r\n      }\r\n      if(reactions.length)makeClickable(true)\r\n    }\r\n  }\r\n\r\n\r\n  const handleClick = ()=>{\r\n    handleEvent(['Click'])\r\n    if(reactions.length) dispatch({type:'SET_CURRENT_FRAME_ID',payload:reactions[0].action.destinationId})\r\n  }\r\n\r\n  const setNodeActions = ()=>{\r\n    if (pluginState) {\r\n\r\n      let setNode = {...node}\r\n      const { pluginActions,pluginConditions } = pluginState\r\n      if(pluginActions.hasOwnProperty(id))setNode.actions = pluginActions[id]\r\n      if(pluginConditions.hasOwnProperty(id))setNode.conditions = pluginConditions[id]\r\n      dispatch({type:'ADD_CHILD_ELEMENT',payload:setNode})\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const updateVisibility =()=>{\r\n    if (nodeTree&&nodeTree.hasOwnProperty(id)&&nodeTree[id].hasOwnProperty('conditions')) {\r\n      const isVisible = Object\r\n      .keys(nodeTree[id].conditions)\r\n      .every(condition=>{\r\n        if (ReturnVisibility(pluginState,nodeTree[id].conditions[condition])) return true\r\n        else return false\r\n      })\r\n\r\n      let temp = {}\r\n      if(!isVisible)temp.display = 'none'\r\n      else temp.display = flexParent?'flex':'block'\r\n      if(nodeStyle)setNodeStyle({...nodeStyle,...temp})\r\n    }\r\n  }\r\n\r\n  const sortChildren = (a,b)=>{\r\n    const { order } = node\r\n    return order.indexOf(a) - order.indexOf(b)\r\n  }\r\n\r\n\r\n  useEffect(()=>{\r\n    let classes = `${type} ${name.split(' ').join('_')}  ${flexChild?'flexChild':''} ${flexParent?'flexParent':''} ${clickable||transitionNodeID?'clickable':''}`\r\n    if(flexParent) {\r\n      if(node.layoutMode === 'VERTICAL')classes += ' column'\r\n      else classes += ' row'\r\n    }\r\n    setClassNames(classes)\r\n  },[nodeTree])\r\n\r\n  useEffect(()=>{\r\n    if(nodeTree&&parent!==currentFrame.id)setParentNode(nodeTree[parent])\r\n  },[figmaData,nodeTree])\r\n\r\n  useEffect(setNodeActions,[nodeTree,currentFrameID,pluginStateChanges])\r\n  useEffect(()=>{\r\n    if(nodeTree&&Object.keys(nodeTree).length&&absoluteBoundingBox){\r\n      if(parent&&nodeTree.hasOwnProperty(parent)&&nodeTree[parent].layoutMode !== 'NONE')setFlexChild(nodeTree[parent].hasOwnProperty(\"layoutMode\"))\r\n      setRadius()\r\n      if(flexParent)setFlex()\r\n      if(opacity)setOpacity()\r\n      setDimension()\r\n      //if(rotations&&!rotations.hasOwnProperty('noRotations'))setRotate()\r\n      setEffects()\r\n\r\n      if(!flexChild)setPosition()\r\n      else setChild()\r\n      setVisibility()\r\n      setNodeStyle(tempStyle)\r\n    }\r\n  },[figmaData,nodeTree,flexChild])\r\n\r\n\r\n  useEffect(()=>{\r\n    if (nodeTree,pluginStateChanges) setVisibility()\r\n  },[nodeTree,pluginStateChanges])\r\n  useEffect(updateVisibility,[updateVis,nodeTree])\r\n  if(nodeStyle===null)return null\r\n  let renderThis\r\n  switch (type) {\r\n    case \"VECTOR\":\r\n      if(nodeStyle&&vectors&&vectors.hasOwnProperty(id))renderThis = <Vector handleClick={handleClick} style={nodeStyle} node={node}/>\r\n      else return null;break;\r\n    case \"TEXT\":renderThis = <Text handleClick={handleClick} style={nodeStyle} node={node}/>;break;\r\n    case \"ELLIPSE\":renderThis = <Ellipse handleClick={handleClick} style={nodeStyle} node={node}/>;break;\r\n    default: renderThis = (\r\n      <article\r\n        style={type==='GROUP'&&!flexChild?null:nodeStyle}\r\n        onMouseEnter={()=>handleEvent(['MouseEnter','Hover'])}\r\n        onMouseLeave={()=>handleEvent(['MouseLeave','Hover'])}\r\n        onClick={handleClick}\r\n        className={'Element '+ classNames }>\r\n        {(type!==\"TEXT\"&&type!==\"VECTOR\"&&type!==\"BOOLEAN_OPERATION\")&&<Background element={node}/>}\r\n        {(type!==\"TEXT\"&&type!==\"VECTOR\"&&type!==\"BOOLEAN_OPERATION\")&&<Stroke element={node}/>}\r\n        {pluginState&&(pluginState.hasOwnProperty('pluginFields')&&pluginState.pluginFields.hasOwnProperty(id))&&<Field handleClick={handleClick} style={nodeStyle} node={node}/>}\r\n        {node.children&&Object.keys(node.children)\r\n          .sort((a,b)=>sortChildren(a,b))\r\n          .map(key=>{\r\n          const child = node.children[key]\r\n          return (\r\n            <Element\r\n              parent={node.id}\r\n              key={key}\r\n              node={child}/>\r\n          )\r\n        })}\r\n      </article>\r\n    )\r\n\r\n  }\r\n\r\n  if(node.hasOwnProperty('constraints')&&node.constraints.horizontal === \"CENTER\") {\r\n\r\n    return (\r\n      <main\r\n        style={centerStyle(\"parent\")}\r\n        className=\"centerParent\">\r\n        <section\r\n          className=\"childStyle\"\r\n          style={centerStyle(\"child\")}>{renderThis}</section>\r\n      </main>\r\n    )\r\n  } else return renderThis\r\n\r\n\r\n\r\n}\r\n\r\nexport default Element\r\n","import React,{ useContext,useEffect } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport Empty from '../Empty'\r\nimport Element from '../Element'\r\nimport './RenderElements.css'\r\n\r\nconst RenderElements = ()=>{\r\n\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { figmaData,currentPageIDX,currentFrameID,nodeTree,currentPageID } = useContext(PyroStateContext)\r\n  const currentPage = figmaData.children[currentPageIDX]\r\n  const currentFrame = currentPage.children[currentFrameID]\r\n  const parentStyle = {\r\n    //minHeight:currentPage.children[currentFrameID].absoluteBoundingBox.height\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(currentFrameID)dispatch({type:'ADD_CHILD_ELEMENT',payload:currentFrame})\r\n  },[currentFrameID])\r\n  if(!currentFrame)return null\r\n  return (\r\n    <section style={parentStyle} className=\"RenderElements\">\r\n      {currentFrame.hasOwnProperty('children')?Object.keys(currentFrame.children).map(key=>(\r\n        <Element\r\n          key={currentFrame.children[key].id}\r\n          parent={currentFrame.id}\r\n          node={currentFrame.children[key]}/>\r\n      )):<Empty/>}\r\n    </section>\r\n  )\r\n}\r\nexport default RenderElements\r\n","import React,{ useContext } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport RenderElements from '../RenderElements'\r\nimport Background from '../Background'\r\nimport Stroke from '../Stroke'\r\nimport './Frame.css'\r\n\r\nconst Frame = ()=>{\r\n  const { figmaData,currentPageIDX,currentFrameID,protoHeight } = useContext(PyroStateContext)\r\n  const currentPage = figmaData.children[currentPageIDX]\r\n  const parentStyle = {\r\n    //overflowY: protoHeight < currentPage.children[currentFrameID].absoluteBoundingBox.height ? \"scroll\":null\r\n  }\r\n\r\n  return (\r\n    <section style={parentStyle} className=\"Frame\">\r\n      {(currentPage.children.hasOwnProperty(currentFrameID)&&currentPage.children[currentFrameID].hasOwnProperty('background')&&currentPage.children[currentFrameID].background.length>0)&&<Background element={currentPage.children[currentFrameID]}/>}\r\n      {(currentPage.children.hasOwnProperty(currentFrameID)&&currentPage.children[currentFrameID].hasOwnProperty('strokes')&&currentPage.children[currentFrameID].strokes.length>0)&&<Stroke element={currentPage.children[currentFrameID]}/>}\r\n      <RenderElements/>\r\n    </section>\r\n  )\r\n}\r\nexport default Frame\r\n","import React,{ useContext,useEffect } from 'react'\r\nimport { Resizable } from 'react-resizable'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport Frame from '../Frame'\r\nimport Empty from '../Empty'\r\nimport './Frames.css'\r\nimport './../../resize.css'\r\n\r\nconst Frames = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { currentBreakpoint,breakPoints,nodeTree,figmaData,currentPageIDX,currentFrameID,isMobile,protoWidth,protoHeight,smoov,minWidth, minHeight } = useContext(PyroStateContext)\r\n  const currentPage = figmaData.children[currentPageIDX]\r\n  const handleResize = (e,{size}) =>{\r\n    const { width,height } = size\r\n    dispatch({type:'SET_DIRECTION',payload:0>=protoWidth-width})\r\n    dispatch({type:'SET_WIDTH',payload:width})\r\n    dispatch({type:'SET_HEIGHT',payload:height})\r\n  }\r\n\r\n\r\n  const checkRWD = ()=>{\r\n    const pages = figmaData.children[currentPageIDX]\r\n    if(pages.hasOwnProperty('children')){\r\n      Object.keys(pages.children).forEach((key,idx) => {\r\n        const frame = pages.children[key]\r\n        if (frame.name.indexOf('|')!==-1) {\r\n          frame[frame.name.split('|')[0].split(' ').join('**').toLowerCase()] = frame.absoluteBoundingBox.width\r\n          frame.index = idx\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const updateBreakPoint = () =>{\r\n    if(breakPoints&&breakPoints.length){\r\n      const currentId = breakPoints.indexOf(breakPoints[currentBreakpoint])\r\n      if(currentFrameID!==currentId){\r\n        dispatch({type:'SET_CURRENT_FRAME_ID',payload:breakPoints[currentBreakpoint].id})\r\n        dispatch({type:'SET_CURRENT_FRAME_IDX',payload:currentId})\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(updateBreakPoint,[currentBreakpoint,breakPoints])\r\n\r\n  useEffect(checkRWD,[figmaData,currentPageIDX])\r\n  if(!figmaData.children[currentPageIDX].hasOwnProperty('children'))return <Empty/>\r\n  return (\r\n    <Resizable\r\n      maxConstraints={[window.innerWidth, window.innerHeight - 34]}\r\n      minConstraints={[minWidth, minHeight]}\r\n      onResize={handleResize}\r\n      width={protoWidth}\r\n      height={protoHeight}>\r\n      <main\r\n        style={{\"width\":protoWidth,\"height\":protoHeight}}\r\n        className={`Frames box ${isMobile?'mobile':'desktop'} ${smoov?'smoov':''}`}>\r\n        <p className=\"pageName\">{currentPage.name} &nbsp;>&nbsp; {currentFrameID&&currentPage.children[currentFrameID].name}</p>\r\n        <Frame/>\r\n      </main>\r\n    </Resizable>\r\n  )\r\n}\r\nexport default Frames\r\n","import React from 'react'\r\nimport './Loading.css'\r\n\r\nconst Loading = ()=>(\r\n  <main className=\"Loading\">\r\n    Loading...\r\n  </main>\r\n)\r\nexport default Loading\r\n","import { useContext,useEffect,useState } from 'react'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport RenderedColor from '../../Utils/RenderedColor'\r\nimport ProtoActions from '../ProtoActions'\r\nimport Frames from '../Frames'\r\nimport Loading from '../Loading'\r\n\r\nconst Prototype = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { direction,currentBreakpoint,breakPoints,rwd,currentFrameID,protoWidth,figmaData,figmaFile,loading,currentPageIDX,currentPageID,selection,nodeTree } = useContext(PyroStateContext)\r\n  const basicGrey = \"rgba(229.00000154972076,229.00000154972076,229.00000154972076,1)\"\r\n  const [ bg,setBG ] = useState(null)\r\n\r\n  const pageIdx = ()=>{\r\n    if (currentPageID&&figmaData) {\r\n      figmaData.children.every((page,i)=>{\r\n        if(page.id === currentPageID){\r\n          dispatch({type:'RESET_CURRENTPAGE',payload:i})\r\n          return false\r\n        } else return true\r\n      })\r\n    }\r\n  }\r\n\r\n  const getBreakPoints = ()=>{\r\n    const currWidth = Math.round(protoWidth)\r\n    if(nodeTree){\r\n      const frame = figmaData.children[currentPageIDX].children[currentFrameID]\r\n      const key = Object.keys(frame)\r\n      .filter(key=>key.indexOf(\"**\")!== -1)\r\n      const setPoints = Object.keys(figmaData.children[currentPageIDX].children)\r\n      .filter(childKey=>figmaData.children[currentPageIDX].children[childKey].hasOwnProperty(key[0]))\r\n      .map(childKey=>{\r\n        const currFrame = figmaData.children[currentPageIDX].children[childKey]\r\n        return {id:currFrame.id,name:currFrame.name,breakPoint:currFrame[key[0]]}\r\n      }).sort((a,b)=>a.breakPoint - b.breakPoint)\r\n\r\n\r\n      dispatch({type:'SET_BREAKPOINTS',payload:setPoints})\r\n    }\r\n  }\r\n\r\n  const handleResize =()=>{\r\n    if (breakPoints&&breakPoints.length) {\r\n      const w = Math.round(protoWidth)\r\n      if(direction){\r\n        if(currentBreakpoint+1<breakPoints.length&&w>breakPoints[currentBreakpoint+1].breakPoint){\r\n          dispatch({type:'SET_CURRENT_BPOINT',payload:currentBreakpoint+1})\r\n        }\r\n      } else if(w<breakPoints[currentBreakpoint].breakPoint&&currentBreakpoint-1>=0){\r\n        dispatch({type:'SET_CURRENT_BPOINT',payload:currentBreakpoint-1})\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(pageIdx,[currentPageID,selection])\r\n  useEffect(handleResize,[protoWidth])\r\n  useEffect(getBreakPoints,[nodeTree])\r\n\r\n  useEffect(()=>{\r\n    if (figmaData&&figmaData.hasOwnProperty('document')) {\r\n      const background = RenderedColor(figmaData.children[currentPageIDX].backgroundColor)\r\n      if(background !== basicGrey)setBG({background})\r\n      else setBG(null)\r\n    }\r\n  },[figmaData,currentPageIDX])\r\n  return (\r\n    <main className=\"FigmaProto\">\r\n      <ProtoActions/>\r\n      <section style={bg} className=\"Prototype\">\r\n        {figmaData&&!loading?<Frames/>:<Loading/>}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Prototype\r\n","import React from 'react'\r\nimport './NoPyro.css'\r\n\r\nconst NoPyro = ()=>(\r\n  <main className=\"NoPyro\">\r\n    NoPyro\r\n  </main>\r\n)\r\nexport default NoPyro\r\n","import { useContext,useEffect,useState } from 'react'\r\nimport { firestore } from './Utils/firebase'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\nimport PyroStateContext from './context/PyroStateContext'\r\nimport PyroDispatchContext from './context/PyroDispatchContext'\r\n\r\nimport Prototype from './components/Prototype'\r\nimport NoPyro from './components/NoPyro'\r\nimport './bolt_fonts.css'\r\nimport './assets/iconfont/harmonyicons.css'\r\nimport './App.css'\r\n\r\nconst FIGMA_CLIENT_ID = process.env.REACT_APP_FIGMA_CLIENT_ID\r\nconst FIGMA_SECRET = process.env.REACT_APP_FIGMA_SECRET\r\nconst URL_CB = process.env.REACT_APP_URL_CB\r\nconst FIGMA_SESSION = process.env.REACT_APP_FIGMA_SESSION\r\n\r\nconst App = ()=>{\r\n  const dispatch = useContext(PyroDispatchContext)\r\n  const { pristine,pluginState,noPyroProto,figmaData,figmaFile,loading } = useContext(PyroStateContext)\r\n  const db = firestore.collection('figma-files').doc(figmaFile)\r\n  const fileDB = db.collection(\"fileData\")\r\n  const pluginVariablesDB = fileDB.doc(\"pluginUIData\").collection(\"variables\")\r\n  const pluginActionsDB = fileDB.doc(\"pluginUIData\").collection(\"nodeActions\")\r\n  const pluginConditionsDB = fileDB.doc(\"pluginUIData\").collection(\"nodeConditions\")\r\n  const pluginFieldsDB = fileDB.doc(\"pluginUIData\").collection(\"nodeFields\")\r\n  const pluginTextsDB = fileDB.doc(\"pluginUIData\").collection(\"nodeTexts\")\r\n  const [pluginVariables] = useCollectionData(pluginVariablesDB,{idField:'id'})\r\n  const [pluginActions] = useCollectionData(pluginActionsDB,{idField:'id'})\r\n  const [pluginConditions] = useCollectionData(pluginConditionsDB,{idField:'id'})\r\n  const [pluginFields] = useCollectionData(pluginFieldsDB,{idField:'id'})\r\n  const [pluginTexts] = useCollectionData(pluginTextsDB,{idField:'id'})\r\n  const [vectorDB] = useCollectionData(fileDB,{idField:'id'})\r\n\r\n  const waitForPyroState = ()=>{\r\n    if(pristine){\r\n      dispatch({type:'NOT_PRISTINE'})\r\n      return\r\n    }\r\n    if(!pluginConditions)dispatch({type:'RMV_LOADING'})\r\n\r\n  }\r\n\r\n  // const getSelection =()=>{\r\n  //   if(selection&&selection.length)dispatch({type:'SET_SELECTION',payload:selection[0]})\r\n  // }\r\n\r\n  const getPluginState = ()=>{\r\n    if(pluginVariables&&pluginActions&&pluginConditions&&pluginFields&&pluginTexts){\r\n\r\n      let pluginVariablesState = pluginVariables.reduce((acc,variable)=>{\r\n        acc[variable.id] = Object.entries(variable.var)[0][1]\r\n        return acc\r\n      },{})\r\n      let pluginFieldsState = pluginFields.reduce((acc,node)=>{\r\n        acc[node.id] = node\r\n        return acc\r\n      },{})\r\n      let pluginTextsState = pluginTexts.reduce((acc,node)=>{\r\n        acc[node.id] = node\r\n        return acc\r\n      },{})\r\n      let pluginActionsState = pluginActions.reduce((acc,node)=>{\r\n        pluginActionsDB.doc(node.id).collection('actions').get()\r\n        .then(snap=>{\r\n          const actions = {}\r\n          snap.forEach(doc => actions[doc.id] = doc.data())\r\n          acc[node.id] = actions\r\n        })\r\n        return acc\r\n      },{})\r\n\r\n      let pluginConditionsState = pluginConditions.reduce((acc,node)=>{\r\n        pluginConditionsDB.doc(node.id).collection('conditions').get()\r\n        .then(snap=>{\r\n          const conditions = {}\r\n          snap.forEach(doc => conditions[doc.id] = doc.data())\r\n          acc[node.id] = conditions\r\n          const nodeID = node.id\r\n          dispatch({type:'ADD_CONDITION',payload:{nodeID,conditions}})\r\n        })\r\n        return acc\r\n      },{})\r\n      const plugState = {pluginVariables:pluginVariablesState,pluginActions:pluginActionsState,pluginConditions:pluginConditionsState,pluginFields:pluginFieldsState,pluginTexts:pluginTextsState}\r\n      dispatch({type:'SET_PLUGIN_STATE',payload:plugState})\r\n    }\r\n  }\r\n\r\n  useEffect(waitForPyroState,[pristine])\r\n\r\n  useEffect(getPluginState,[pluginVariables,pluginActions,pluginConditions,pluginFields,pluginTexts])\r\n  if(noPyroProto) return <NoPyro/>\r\n  return <Prototype/>\r\n}\r\n\r\nexport default App\r\n","import { useReducer,useEffect } from 'react'\r\nimport { firestore } from '../../Utils/firebase'\r\nimport PyroStateContext from '../../context/PyroStateContext'\r\nimport PyroDispatchContext from '../../context/PyroDispatchContext'\r\nimport PyroReducer, { initialPyroState } from '../../reducers/PyroReducer'\r\nimport useAuth from '../../hooks/useAuth'\r\nimport Login from '../Login'\r\nimport UserNotAllowed from '../UserNotAllowed'\r\nimport App from '../../App'\r\n\r\nconst InitFigma = ()=>{\r\n  const user = useAuth()\r\n  const fileKey = window.location.href.split('/figma/')[1]\r\n  const [ state, dispatch ] = useReducer(PyroReducer, initialPyroState)\r\n  const { userData,authData,userIsAllowed,figmaFile } = state\r\n  const db = firestore.collection('figma-files').doc(fileKey)\r\n\r\n  const updateUser = ()=>{\r\n    if(user){\r\n      const { photoURL,email,displayName } = user\r\n      dispatch({type:'SET_USER',payload:{ photoURL,email,displayName }})\r\n    } else dispatch({type:'SET_USER',payload:null})\r\n  }\r\n\r\n  const authorizeUser = ()=>{\r\n    let isAuthorised = false\r\n    if (user&&authData&&userData) {\r\n      const { currentOrg,myEmail,orgDomain,useOrg,users } = authData\r\n      const { displayName,email,photoURL } = userData\r\n      const imTheOwner = myEmail===email\r\n      const isMyGuest = users.length&&users.indexOf(email)!==-1\r\n      const isInMyOrg = useOrg && email.indexOf(currentOrg)!== -1\r\n      if (isInMyOrg) isAuthorised = true\r\n      if(isMyGuest) isAuthorised = true\r\n      if(imTheOwner)isAuthorised = true\r\n    }\r\n    return isAuthorised\r\n\r\n  }\r\n\r\n  const getData = () =>{\r\n    db.get()\r\n    .then(doc =>{\r\n      if (doc.exists) {\r\n        const {authData,pageData} = doc.data()\r\n        dispatch({type:'UPDATE_FILE_DATA_FROM_FIGMA',payload:{authData,pageData}})\r\n        dispatch({type:'SET_CURRENT_FRAME_ID',payload:pageData.children[0].prototypeStartNodeID})\r\n      } else dispatch({type:'NO_PROTO'})\r\n    }).catch(error => console.error(error))\r\n    updateUser()\r\n    authorizeUser()\r\n  }\r\n\r\n\r\n  useEffect(getData,[])\r\n  useEffect(()=>{\r\n    updateUser()\r\n    if(userIsAllowed!==authorizeUser())dispatch({type:'AUTHORISE_USER',payload:authorizeUser})\r\n  },[authorizeUser(),user])\r\n  useEffect(()=>{\r\n    dispatch({type:'SET_FILEKEY',payload:fileKey})\r\n  },[])\r\n  if(!figmaFile)return <p>no file</p>\r\n  return (\r\n    <PyroDispatchContext.Provider value={dispatch}>\r\n      <PyroStateContext.Provider value={state}>\r\n        {user&&authorizeUser()&&<App/>}\r\n        {user&&!authorizeUser()&&<UserNotAllowed/>}\r\n        {!user&&<Login/>}\r\n      </PyroStateContext.Provider>\r\n    </PyroDispatchContext.Provider>\r\n  )\r\n}\r\n\r\nexport default InitFigma\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport InitFigma from './components/InitFigma'\r\nReactDOM.render(<InitFigma />, document.getElementById('figma_pyro'))\r\n"],"sourceRoot":""}