(this.webpackJsonppyro_figma=this.webpackJsonppyro_figma||[]).push([[0],Array(33).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(15),r=n.n(i),o=n(6),c=n(10);n(70),n(18);c.a.initializeApp({apiKey:"AIzaSyDLur9qV5uHuCunlqNH82fyZvr1V54bUPY",authDomain:"pyro-intuit.firebaseapp.com",databaseURL:"https://pyro-intuit.firebaseio.com",projectId:"pyro-intuit",storageBucket:"pyro-intuit.appspot.com",messagingSenderId:"657829873421",appId:"1:657829873421:web:cbaee79c120744557d5244"});c.a.auth();var l=c.a.firestore(),s=c.a,u=Object(a.createContext)(),d=Object(a.createContext)(),p=n(3),h={figmaFile:null,authData:null,loading:!0,isMobile:!0,figmaData:null,currentFrameIDX:0,currentFrameID:null,currentPageIDX:0,currentPageID:null,protoWidth:375,protoHeight:812,tabletWidth:1024,tabletHeight:728,minWidth:324,minHeight:394,smoov:!1,onBoarding:0,fileImages:null,nodeTree:null,selection:null,vectors:null,me:null,breakPoints:null,currentBreakpoint:0,direction:!1,email:null,rotations:null,pluginState:null,pluginStateChanges:!1,hoverEnter:null,firstFrame:null,updateVis:!1,noPyroProto:!1,userIsAllowed:!1,pristine:!0,userData:null,token:null},b=function(e,t){switch(t.type){case"AUTHORISE_USER":var n=Object(p.a)({},e);return n.userIsAllowed=t.payload,n;case"SET_USER":var a=Object(p.a)({},e);return a.userData=t.payload,a;case"NOT_PRISTINE":var i=Object(p.a)({},e);return i.pristine=!1,i;case"NO_PROTO":var r=Object(p.a)({},e);return r.noPyroProto=!0,r;case"SET_FILEKEY":var o=Object(p.a)({},e);return o.figmaFile=t.payload,o;case"UPDATE_FIELD_VALUE":var c=Object(p.a)({},e);return c.pluginState.pluginVariables[t.payload.variable]=t.payload.val,c.updateVis=!c.updateVis,c;case"UPDATE_PLUGIN_STATE":var l=Object(p.a)({},e),s=String(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id]),u=t.payload.pluginAction.targetVariable.targetValue;-1!==t.payload.eventType.indexOf("MouseEnter")&&(l.hoverEnter=s);l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id];return"becomes"===t.payload.pluginAction.actionType&&s!==u&&(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id]=t.payload.pluginAction.targetVariable.targetValue),"toggles"===t.payload.pluginAction.actionType&&("true"!==String(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id])&&"false"!==String(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id])||(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id]=!l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id])),-1!==t.payload.eventType.indexOf("MouseLeave")&&(l.pluginState.pluginVariables[t.payload.pluginAction.targetVariable.id]=l.hoverEnter,l.hoverEnter=null),l.updateVis=!l.updateVis,l;case"ADD_CONDITION":var d=Object(p.a)({},e);if(null===d.pluginState){var h={};h.pluginConditions[t.payload.nodeID]=t.payload.conditions,d.pluginState=h}else d.pluginState.pluginConditions[t.payload.nodeID]=t.payload.conditions;return d.pluginStateChanges=!d.pluginStateChanges,d.loading=!1,d;case"SET_PLUGIN_STATE":var b=Object(p.a)({},e);return b.pluginStateChanges=!b.pluginStateChanges,b.pluginState=t.payload,b;case"SET_DIRECTION":var g=Object(p.a)({},e);return g.direction=t.payload,g;case"SET_CURRENT_BPOINT":var O=Object(p.a)({},e);return O.currentBreakpoint=t.payload,O;case"SET_BREAKPOINTS":var j=Object(p.a)({},e);return j.breakPoints=t.payload,j;case"SET_SELECTION":var f=Object(p.a)({},e);return f.currentPageID=t.payload.currentPage.id,f.selection=t.payload.selection,f;case"SET_ROTATES":var y=Object(p.a)({},e);return y.rotations=t.payload,y;case"SET_VECTORS":var E=Object(p.a)({},e);return E.vectors=t.payload,E;case"SET_EMAIL":var x=Object(p.a)({},e);return x.email=t.payload,x;case"SET_ONBARDING":var m=Object(p.a)({},e);return m.onBoarding=t.payload,m;case"SET_ATTRIBUTE":var T=Object(p.a)({},e);return T.nodeTree.hasOwnProperty(t.payload.id)&&(T.nodeTree[t.payload.id][t.payload.attribute]=t.payload.value),T;case"ADD_CHILD_ELEMENT":var v=Object(p.a)({},e),w={};return null===v.nodeTree?(w[t.payload.id]=t.payload,v.nodeTree=w):v.nodeTree[t.payload.id]=t.payload,v;case"GET_ME":var N=Object(p.a)({},e);return N.me=t.payload,N;case"GET_IMAGES":var I=Object(p.a)({},e);return I.fileImages=t.payload,I;case"REMOVE_SMOOV":var S=Object(p.a)({},e);return S.smoov=!1,S;case"SET_TABLET":var C=Object(p.a)({},e);return C.smoov=!0,C.protoWidth=C.tabletWidth,C.protoHeight=C.tabletHeight,C;case"SET_DESKTOP":var A=Object(p.a)({},e);return A.smoov=!0,A.protoWidth=window.innerWidth,A.protoHeight=window.innerHeight-34,A;case"SET_MOBILE":var R=Object(p.a)({},e);return R.smoov=!0,R.protoWidth=375,R.protoHeight=812,R;case"SET_WIDTH":var D=Object(p.a)({},e);return D.protoWidth=t.payload,D;case"SET_HEIGHT":var k=Object(p.a)({},e);return k.protoHeight=t.payload,k;case"SET_CURRENT_FRAME_ID":var _=Object(p.a)({},e);return _.currentFrameID=t.payload,_;case"SET_CURRENT_FRAME_IDX":var P=Object(p.a)({},e);return void 0!==t.payload&&(P.currentFrameIDX=t.payload),P;case"RESET_CURRENTPAGE":var M=Object(p.a)({},e);return M.nodeTree=null,M.currentPageIDX=t.payload,M;case"SET_CURRENT_PAGE_IDX":var L=Object(p.a)({},e);return L.currentPageIDX=t.payload,L;case"RMV_LOADING":var B=Object(p.a)({},e);return B.loading=!1,B;case"LOADING":var H=Object(p.a)({},e);return H.loading=!0,H;case"TOKEN":var F=Object(p.a)({},e);return F.token=t.payload,F;case"UPDATE_FILE_DATA_FROM_FIGMA":var V=Object(p.a)({},e);return V.authData=t.payload.authData,V.figmaData=t.payload.pageData,V.nodeTree=null,V;default:throw new Error("Unexpected action")}},g=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){return s.auth().onAuthStateChanged((function(e){return i(e)}))}),[]),n},O=n(1),j=function(){var e=c.a.auth();return Object(O.jsx)("main",{className:"SignIn",children:Object(O.jsx)("button",{className:"btn full",onClick:function(){var t=new c.a.auth.GoogleAuthProvider;e.signInWithPopup(t)},children:"Sign in"})})},f=(n(33),function(){Object(a.useContext)(u).onBoarding;return Object(O.jsxs)("main",{className:"Login",children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsx)("p",{children:"Better design coming soon"}),Object(O.jsx)(j,{})]})}),y=function(){var e=c.a.auth();return Object(O.jsx)("main",{className:"SignOut",children:Object(O.jsx)("button",{className:"btn full",onClick:function(){return e.signOut()},children:"Sign out"})})},E=(n(34),function(){Object(a.useContext)(u).onBoarding;return Object(O.jsxs)("main",{className:"UserNotAllowed",children:[Object(O.jsx)("h1",{children:"User not allowed"}),Object(O.jsx)("p",{children:"Better design coming soon"}),Object(O.jsx)(y,{})]})}),x=n(12),m=function(e){return 0!==e&&1!==e?255*e:1===e?255:e},T=function(e){var t=e.r,n=e.g,a=e.b,i=e.a,r=i?","+i+")":")";return"rgb("+m(t)+","+m(n)+","+m(a)+r},v=(n(35),function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.protoWidth,i=t.protoHeight,r=t.minWidth,o=t.minHeight,c=t.smoov,l=function(t,n){isNaN(Number(t.target.value))||e({type:n?"SET_WIDTH":"SET_HEIGHT",payload:Number(t.target.value)})},s=function(t,n){n?(Number(t.target.value)>window.innerWidth&&e({type:"SET_WIDTH",payload:window.innerWidth}),Number(t.target.value)<r&&e({type:"SET_WIDTH",payload:r})):(Number(t.target.value)>window.innerHeight&&e({type:"SET_HEIGHT",payload:window.innerHeight-35}),Number(t.target.value)<o&&e({type:n?"SET_WIDTH":"SET_HEIGHT",payload:o}))};return Object(O.jsxs)("div",{className:"InputDimensions",children:[Object(O.jsx)("span",{children:"w"}),Object(O.jsx)("input",{disabled:c,onFocus:function(e){return e.target.select()},onChange:function(e){return l(e,!0)},onBlur:function(e){return s(e,!0)},value:Math.round(n),type:"text"}),Object(O.jsx)("span",{children:"h"}),Object(O.jsx)("input",{disabled:c,onFocus:function(e){return e.target.select()},onChange:function(e){return l(e,!1)},onBlur:function(e){return s(e,!1)},value:Math.round(i),type:"text"})]})}),w=(n(36),function(){var e=Object(a.useContext)(u).userData,t=e.displayName,n=(e.email,e.photoURL);return Object(O.jsxs)("div",{className:"User",children:[n&&Object(O.jsx)("img",{src:n,width:"30",alt:t}),Object(O.jsx)("span",{children:t})]})}),N=n.p+"static/media/mobile.bcb52078.svg",I=n.p+"static/media/tablet.cfcfcd73.svg",S=n.p+"static/media/desktop.9125ff19.svg",C=(n(37),function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.protoWidth,i=t.protoHeight,r=t.smoov,o=t.tabletWidth,c=t.tabletHeight,l=function(t){var n="SET_MOBILE";switch(t){case"mobile":n="SET_MOBILE";break;case"desktop":n="SET_DESKTOP";break;case"tablet":n="SET_TABLET";break;default:n="SET_MOBILE"}e({type:n}),setTimeout((function(){return e({type:"REMOVE_SMOOV"})}),1e3)};return Object(O.jsxs)("div",{className:"Dimensions",children:[Object(O.jsx)("button",{disabled:r,onClick:function(){return l("mobile")},className:n<=450?"active":null,children:Object(O.jsx)("img",{src:N,alt:"mobile"})}),Object(O.jsx)("button",{disabled:r,onClick:function(){return l("desktop")},className:n>1024?"active":null,children:Object(O.jsx)("img",{src:S,alt:"desktop"})}),Object(O.jsx)("button",{disabled:r,onClick:function(){return l("tablet")},className:n===o&&i===c?"active":null,children:Object(O.jsx)("img",{src:I,alt:"mobile"})})]})}),A=n.p+"static/media/pyro_white.1a68b823.svg",R=(n(38),function(){Object(a.useContext)(d);var e=Object(a.useContext)(u),t=e.userData,n=(e.loading,e.figmaData),i=(e.token,e.currentPageIDX),r=(e.figmaFile,e.currentFrameID),c=Object(a.useState)(!1),l=Object(o.a)(c,2);l[0],l[1];return Object(O.jsxs)("nav",{className:"ProtoActions",children:[Object(O.jsx)("section",{children:Object(O.jsx)("img",{src:A,height:"27",alt:"pyro"})}),n&&r?Object(O.jsx)("section",{className:"fileInfo",children:Object(O.jsxs)("h1",{children:[n.name," - ",n.children[i].name]})}):Object(O.jsx)("h1",{className:"faded",children:"Proto name - Page name"}),Object(O.jsxs)("section",{className:"actions",children:[Object(O.jsx)("button",{className:"btn full",children:Object(O.jsx)("span",{children:"Share"})}),Object(O.jsx)(C,{}),Object(O.jsx)(v,{}),t&&Object(O.jsx)(w,{}),Object(O.jsx)(y,{})]})]})}),D=n(25),k=(n(47),function(){return Object(O.jsx)("section",{className:"Empty",children:Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{children:"Nothing to see here"}),Object(O.jsx)("span",{children:"\ud83d\ude32"})]})})}),_=function(e,t){var n="true"===String(t.condition2)||"false"===String(t.condition2)?String(t.condition2):String(e.pluginVariables[t.condition2]).toLowerCase(),a=Number(e.pluginVariables[t.condition1]),i="mt"===n?0:Number(n),r=String(e.pluginVariables[t.condition1]).toLowerCase(),o="mt"===n?"":n;switch(t.operator){case"isEqualTo":return r===n?t.show:!t.show;case"different":return r!==o?t.show:!t.show;case"contains":return-1!==e.pluginVariables[t.condition1].toLowerCase().indexOf(o)?t.show:!t.show;case"isGreaterThan":return!isNaN(a)&&!isNaN(i)&&(a>i?t.show:!t.show);case"isInferiorTo":return!isNaN(a)&&!isNaN(i)&&(a<i?t.show:!t.show);case"isGreaterThanOrEqualTo":return!isNaN(a)&&!isNaN(i)&&(a>=i?t.show:!t.show);case"isInferiorOrEqualTo":return!isNaN(a)&&!isNaN(i)&&(a<=i?t.show:!t.show);default:return"nothing"}},P=(n(48),function(e){var t=e.bg,n=e.gradType,i=Object(a.useContext)(u),r=i.protoWidth,o=i.protoHeight,c=i.figmaData,l=Object(a.useRef)(null),s=t.opacity,d=t.blendMode,p=t.gradientStops,h=t.gradientTransform;return Object(a.useEffect)((function(){var e=h.start,t=h.end,a=l.current.getContext("2d");a.clearRect(0,0,Math.round(r),o);var i,c=e.x*Math.round(r),s=e.y*Math.round(o),u=t.x*Math.round(r),d=t.y*Math.round(o),b=Math.sqrt((c-s)*(c-s)+(u-d)*(u-d));switch(n){case"linear":i=a.createLinearGradient(c,s,u,d);break;case"radial":i=a.createRadialGradient(c,s,0,c,s,b);break;default:i=a.createLinearGradient(c,s,u,d)}p.forEach((function(e,t){var n=e.position,a=e.color;i.addColorStop(n,T(a))})),a.fillStyle=i,a.fillRect(0,0,Math.round(r),Math.round(o))}),[c,o,r]),Object(O.jsx)("div",{style:{opacity:s,mixBlendMode:d.toLowerCase().split("_").join("-")},className:"Gradients",children:Object(O.jsx)("canvas",{width:r,height:o,ref:l})})}),M=(n(49),function(e){var t=e.bg;return Object(O.jsx)("div",{className:"SolidBG",style:{background:T(t.color),opacity:t.opacity,mixBlendMode:t.blendMode.toLowerCase().split("_").join("-")}})}),L=(n(50),function(e){var t=e.bg,n=e.constraints,i=Object(a.useContext)(u),r=i.fileImages,o=i.protoWidth,c=i.protoHeight,l=i.smoov,s=function(){return{opacity:t.opacity,mixBlendMode:t.blendMode.toLowerCase().split("_").join("-")}};return r?Object(O.jsx)("div",{style:"TILE"===t.scaleMode?r?Object(p.a)(Object(p.a)({},s()),{},{backgroundImage:"url("+r[t.imageRef]+")"}):null:s(),className:"ImageBG ".concat(t.scaleMode.toLowerCase()," ").concat("CENTER"===n.horizontal?"maxWidth":null," ").concat(o<c?"portrait":"landscape"," ").concat(l?"smoov":""),children:"TILE"!==t.scaleMode&&Object(O.jsx)("img",{src:r[t.imageRef],style:"FILL"===t.scaleMode?o<c?{height:c}:{height:o}:null,alt:"protoBg"})}):null}),B=(n(51),function(e){var t=e.element,n=function(e,n){var a=t.id+n;if(!e.hasOwnProperty("visible")||e.visible)switch(e.type){case"GRADIENT_LINEAR":return Object(O.jsx)(P,{gradType:"linear",bg:e},a);case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return Object(O.jsx)(P,{gradType:"radial",bg:e},a);case"IMAGE":return Object(O.jsx)(L,{constraints:t.constraints,bg:e},a);default:return Object(O.jsx)(M,{bg:e},a)}return null};return t.hasOwnProperty("background")||t.hasOwnProperty("fills")?Object(O.jsxs)("section",{className:"Background",children:[t.hasOwnProperty("background")&&t.background&&t.background.length>0&&t.background.map((function(e,t){return n(e,t)})),t.hasOwnProperty("fills")&&t.fills.length>0&&t.fills.map((function(e,t){return n(e,t)}))]}):null}),H=(n(52),function(e){var t=e.str,n=e.gradType,i=e.strokeWeight,r=Object(a.useContext)(u),o=r.protoWidth,c=r.protoHeight,l=r.figmaData,s=Object(a.useRef)(null),d=t.opacity,p=t.blendMode,h=t.gradientHandlePositions,b=t.gradientStops;return Object(a.useEffect)((function(){var e=h[0],t=h[1],a=s.current.getContext("2d");a.clearRect(0,0,Math.round(o),c);var r,l=e.x*Math.round(o),u=e.y*Math.round(c),d=t.x*Math.round(o),p=t.y*Math.round(c),g=Math.sqrt((l-u)*(l-u)+(d-p)*(d-p));switch(n){case"linear":r=a.createLinearGradient(l,u,d,p);break;case"radial":r=a.createRadialGradient(l,u,0,l,u,g);break;default:r=a.createLinearGradient(l,u,d,p)}b.forEach((function(e,t){var n=e.position,a=e.color;r.addColorStop(n,T(a))})),a.strokeStyle=r,a.lineWidth=2*i,a.strokeRect(0,0,Math.round(o),Math.round(c))}),[l,c,o]),Object(O.jsx)("div",{style:{opacity:d,mixBlendMode:p.toLowerCase().split("_").join("-")},className:"StrokeGradients",children:Object(O.jsx)("canvas",{width:o,height:c,ref:s})})}),F=(n(53),function(e){var t=e.element,n=e.str,a=e.strokeWeight;return Object(O.jsx)("div",{className:"StrokeSolidBG",style:{borderRadius:t.hasOwnProperty("rectangleCornerRadius")?t.rectangleCornerRadius.reduce((function(e,t,n){return e=e+t+"px "}),""):t.hasOwnProperty("cornerRadius")?t.cornerRadius+"px":null,border:a+"px solid "+T(n.color),opacity:n.opacity,mixBlendMode:n.blendMode.toLowerCase().split("_").join("-")}})}),V=(n(54),function(e){var t=e.element;if(!t.hasOwnProperty("strokes"))return null;return 0===t.strokes.length?null:Object(O.jsx)("section",{className:"Stroke",children:t.hasOwnProperty("strokes")&&t.strokes.map((function(e,n){return function(e,n){var a=t.id+n;if(!e.hasOwnProperty("visible")||e.visible)switch(e.type){case"GRADIENT_LINEAR":return Object(O.jsx)(H,{strokeWeight:t.strokeWeight,gradType:"linear",str:e},a);case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return Object(O.jsx)(H,{strokeWeight:t.strokeWeight,gradType:"radial",str:e},a);default:return Object(O.jsx)(F,{strokeWeight:t.strokeWeight,element:t,str:e},a)}return null}(e,n)}))})}),U=(n(55),function(e){var t=e.handleClick,n=e.node,i=e.style,r=Object(a.useContext)(u).vectors,c=n.transitionNodeID,l=(n.name,n.id),s=n.strokeWeight,d=r[l],h=d.vectorPaths,b=d.width,g=d.height,j=Object(a.useState)(Object(p.a)({},i)),f=Object(o.a)(j,2),y=f[0],E=f[1],x=Object(a.useState)(null),m=Object(o.a)(x,2),v=m[0],w=m[1],N=Object(a.useState)(null),I=Object(o.a)(N,2),S=I[0],C=I[1];return Object(a.useEffect)((function(){var e=Object(p.a)({},y);e.width=b,e.height=g,e.WebkitClipPath="url(#"+l+")",E(e);var t={};t.width=b,t.height=g,w(t);var a={};a.stroke=b,a.strokeWidth=2*s,n.strokes.length&&(a.stroke=T(n.strokes[0].color)),C(a)}),[]),Object(O.jsxs)("article",{onClick:t,className:"Vector ".concat(c?"clickable":null),style:y,children:[Object(O.jsx)(B,{element:n}),Object(O.jsx)("svg",{style:v,xmlns:"http://www.w3.org/2000/svg",width:b,height:g,viewBox:"0 0 ".concat(b," ").concat(g),children:Object(O.jsx)("path",{strokeLinecap:"round",style:S,d:h})}),Object(O.jsx)("svg",{style:v,xmlns:"http://www.w3.org/2000/svg",width:b,height:g,viewBox:"0 0 ".concat(b," ").concat(g),children:Object(O.jsx)("defs",{children:Object(O.jsx)("clipPath",{id:l,children:Object(O.jsx)("path",{d:h})})})})]})}),G=(n(56),function(e){var t=e.handleClick,n=e.node,i=e.style,r=n.id,c=n.transitionNodeID,l=(n.name,n.characters),s=n.textAlignHorizontal,d=n.textAlignVertical,h=n.textAutoResize,b=n.textCase,g=n.textDecoration,j=n.fontName,f=n.fontSize,y=n.layoutAlign,E=n.layoutGrow,x=n.letterSpacing,m=n.lineHeight,v=n.listSpacing,w=Object(a.useState)(null),N=Object(o.a)(w,2),I=N[0],S=N[1],C={textAlign:s,textAlignVertical:d,textAutoResize:h,textTransform:b,textDecoration:g,fontStyle:j.style,fontFamily:j.family,fontSize:f,layoutAlign:y,layoutGrow:E,letterSpacing:x,lineHeight:m,listSpacing:v},A=Object(a.useContext)(u).pluginState;if(Object(a.useEffect)((function(){switch(C.textTransform){case"UPPER":C.textTransform="uppercase";break;case"LOWER":C.textTransform="lowercase";break;case"TITLE":C.textTransform="capitalize";break;default:C.textTransform="normal"}if(delete C.textCase,delete C.lineHeightPercent,delete C.lineHeightPx,delete C.textAutoResize,"TOP"!==C.textAlignVertical||"LEFT"!==C.textAlignHorizontal){var e,t;switch(C.display="flex",C.textAlignHorizontal){case"CENTER":e="center",C.margin="auto";break;case"RIGHT":e="flex-end"}switch(C.textAlignVertical){case"CENTER":t="center",C.margin="auto";break;case"BOTTOM":t="flex-end"}C.justifyContent=e,C.alignItems=t}C.color=T(n.fills[0].color),S(C)}),[]),!A)return null;var R=A.pluginTexts,D=A.pluginVariables;A.pluginConditions;return Object(O.jsx)("p",{onClick:t,style:function(){var e=Object(p.a)(Object(p.a)({},i),I);if(A.pluginConditions.hasOwnProperty(r)){var t=Object.keys(A.pluginConditions[r]).every((function(e){return!!_(A,A.pluginConditions[r][e])}));e.display=t?"block":"none"}return delete e.height,e}(),className:"Text ".concat(n.name.split(" ")[0]," ").concat(c?"clickable":null),children:R&&R.hasOwnProperty(r)&&"mt"===D[R[r].varID]?"":R&&R.hasOwnProperty(r)?String(D[R[r].varID]):l})}),W=(n(57),function(e){e.handleClick;var t=e.node,n=(e.style,t.transitionNodeID,t.name,t.id),i=Object(a.useContext)(d),r=Object(a.useContext)(u).pluginState,o=r.pluginFields,c=r.pluginVariables,l=o[n],s=l.placeHolder,p=l.type,h=l.varID;return Object(O.jsx)("input",{className:"Field",onFocus:function(e){return e.target.select()},onChange:function(e){return i({type:"UPDATE_FIELD_VALUE",payload:{val:e.target.value,variable:h}})},placeholder:s,type:p,value:"mt"===c[h]?"":c[h]})}),X=(n(58),function(e){var t=e.handleClick,n=e.node,a=e.style;return Object(O.jsx)("article",{onClick:t,style:a,className:"Ellipse ".concat(n.name.split(" ").join("_")," ").concat(n.transitionNodeID?"clickable":null),children:Object(O.jsx)(B,{element:n})})}),z=(n(59),function e(t){var n,i=t.node,r=t.parent,c=Object(a.useContext)(d),l=Object(a.useContext)(u),s=l.updateVis,h=l.pluginState,b=l.pluginStateChanges,g=(l.rotations,l.vectors),j=l.figmaData,f=l.currentFrameID,y=l.nodeTree,E=(l.protoWidth,l.protoHeight,l.currentPageIDX),x=j.children[E].children[f],m=i.transitionNodeID,v=i.opacity,w=i.effects,N=i.visible,I=i.constraints,S=i.type,C=i.id,A=i.name,R=i.absoluteBoundingBox,D=i.layoutMode,k=i.reactions,P=Object(a.useState)(x),M=Object(o.a)(P,2),L=(M[0],M[1]),H=Object(a.useState)(null),F=Object(o.a)(H,2),z=F[0],K=F[1],q=Object(a.useState)(!1),Y=Object(o.a)(q,2),J=Y[0],Z=Y[1],Q=Object(a.useState)(!1),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(o.a)(ne,2),ie=ae[0],re=ae[1],oe=i.hasOwnProperty("layoutMode"),ce={},le=function(e){var t=null;if(void 0!==e)switch(e){case"SPACE_AROUND":t="space-around";break;case"SPACE_BETWEEN":t="space-between";break;case"FIXED":t="flex-start";break;case"CENTER":t="center";break;case"MAX":t="flex-end";break;default:t="flex-start"}return t},se=function(){void 0!==N&&(c({type:"SET_ATTRIBUTE",payload:{id:C,attribute:"visible",value:N}}),N||(ce.display="none"));h&&h.pluginConditions.hasOwnProperty(C)&&(Object.keys(h.pluginConditions[C]).every((function(e){return!!_(h,h.pluginConditions[C][e])}))||(ce.display="none")),z&&K(Object(p.a)(Object(p.a)({},z),ce))},ue=function(e){if(z){var t=Object(p.a)({},z),n=Object(p.a)({},z);delete t.width,delete t.height,delete n.height,delete t.left,delete t.right;var a,r=i.absoluteBoundingBox.x-x.absoluteBoundingBox.x;if(r<=(x.absoluteBoundingBox.width-n.width)/2)a=x.absoluteBoundingBox.width-2*r;else{var o=x.absoluteBoundingBox.width-(n.width+n.left);a=x.absoluteBoundingBox.width-2*o,n.display="flex",n.justifyContent="flex-end"}return delete n.position,delete n.left,delete n.top,delete n.bottom,n.width=a,t.width||delete t.width,n.width||delete n.width,"parent"===e?t:n}return{background:"red"}},de=function(e){h&&(h.pluginActions.hasOwnProperty(C)&&(Object.keys(h.pluginActions[C]).forEach((function(t){-1!==e.indexOf(h.pluginActions[C][t].eventType)&&c({type:"UPDATE_PLUGIN_STATE",payload:{pluginAction:h.pluginActions[C][t],eventType:e}})})),te(!0)),k.length&&te(!0))},pe=function(){de(["Click"]),k.length&&c({type:"SET_CURRENT_FRAME_ID",payload:k[0].action.destinationId})};if(Object(a.useEffect)((function(){var e="".concat(S," ").concat(A.split(" ").join("_"),"  ").concat(J?"flexChild":""," ").concat(oe?"flexParent":""," ").concat(ee||m?"clickable":"");oe&&("VERTICAL"===i.layoutMode?e+=" column":e+=" row"),re(e)}),[y]),Object(a.useEffect)((function(){y&&r!==x.id&&L(y[r])}),[j,y]),Object(a.useEffect)((function(){if(h){var e=Object(p.a)({},i),t=h.pluginActions,n=h.pluginConditions;t.hasOwnProperty(C)&&(e.actions=t[C]),n.hasOwnProperty(C)&&(e.conditions=n[C]),c({type:"ADD_CHILD_ELEMENT",payload:e})}}),[y,f,b]),Object(a.useEffect)((function(){y&&Object.keys(y).length&&R&&(r&&y.hasOwnProperty(r)&&"NONE"!==y[r].layoutMode&&Z(y[r].hasOwnProperty("layoutMode")),function(){if(i.hasOwnProperty("rectangleCornerRadius")){var e=i.rectangleCornerRadius.reduce((function(e,t,n){return e+t+"px "}),"");ce.borderRadius=e,ce.overflow="hidden"}i.hasOwnProperty("cornerRadius")&&(ce.borderRadius=i.cornerRadius,ce.overflow="hidden")}(),oe&&function(){var e=i.primaryAxisAlignItems,t=i.counterAxisAlignItems;ce.display="flex","VERTICAL"===D&&(ce.flexDirection="column"),ce.justifyContent=le(e),ce.alignItems=le(t);var n=i.paddingTop,a=i.paddingRight;i.paddingBottom,i.paddingLeft,ce.padding=n||a,ce.boxSizing="border-box"}(),v&&(ce.opacity=v.toFixed(2)),function(){var e=R.width,t=R.height;if(I){switch(I.horizontal){case"CENTER":case"MIN":case"MAX":"STRETCH"!==i.layoutAlign&&(ce.width=e)}switch(I.vertical){case"CENTER":case"MIN":case"MAX":1!==i.layoutGrow?ce.height=t:ce.height="100%"}}else ce.width=e,ce.height=t;w.length&&(ce.width=i.width,ce.height=i.height)}(),w&&w.forEach((function(e){var t=e.type,n=e.offset,a=e.radius,i=e.visible,r=e.color;if(i)switch(t){case"DROP_SHADOW":var o=n.x,c=n.y;ce.boxShadow=o+"px "+c+"px "+a+"px "+T(r)}})),J?function(){var e=y[r],t=e.itemSpacing,n=Object.keys(e.children);e.order[0]!==C&&n.length>1&&(ce["VERTICAL"===e.layoutMode?"marginTop":"marginLeft"]=t);var a="HORIZONTAL"===e.layoutMode;J&&"STRETCH"===i.layoutAlign&&(ce[a?"height":"width"]="100%"),J&&(1===i.layoutGrow?ce.flex=1:ce[a?"width":"height"]=R[a?"width":"height"])}():function(){var e=R.x,t=R.y,n=R.width,a=R.height;ce.position="absolute";var o=t-x.absoluteBoundingBox.y,c=e-x.absoluteBoundingBox.x;if(I){switch(I.horizontal){case"SCALE":ce.left=c;break;case"MIN":case"CENTER":ce.left=c;break;case"MAX":ce.right=x.absoluteBoundingBox.width-(n+c);break;case"STRETCH":ce.left=c,ce.right=x.absoluteBoundingBox.width-(n+c)}switch(I.vertical){case"SCALE":ce.top=o;break;case"MIN":case"CENTER":ce.top=o;break;case"MAX":ce.bottom=x.absoluteBoundingBox.height-(a+o);break;case"STRETCH":ce.top=o,ce.bottom=x.absoluteBoundingBox.height-(a+o)}}else ce.top=o,ce.left=c;if(y.hasOwnProperty(r)&&"FRAME"!==y[r].type&&"GROUP"!==y[r].type){var l=y[r].absoluteBoundingBox;switch(I.horizontal){case"MIN":case"CENTER":case"SCALE":ce.left=ce.left-(l.x-x.absoluteBoundingBox.x);break;case"MAX":ce.right=ce.right-l.width-(n+c);break;case"STRETCH":ce.left=ce.left-l.x,ce.right=ce.right-l.width-(n+c)}switch(I.vertical){case"MIN":case"CENTER":case"SCALE":ce.top=ce.top-(l.y-x.absoluteBoundingBox.y);break;case"MAX":ce.bottom=ce.bottom-l.height-(a+o);break;case"STRETCH":ce.top=ce.top-l.y,ce.bottom=ce.bottom-l.width-(n+c)}}y.hasOwnProperty(i.parentNode)&&"GROUP"===y[i.parentNode].type&&(ce.top=0,ce.left=0)}(),se(),K(ce))}),[j,y,J]),Object(a.useEffect)((function(){b&&se()}),[y,b]),Object(a.useEffect)((function(){if(y&&y.hasOwnProperty(C)&&y[C].hasOwnProperty("conditions")){var e=Object.keys(y[C].conditions).every((function(e){return!!_(h,y[C].conditions[e])})),t={};t.display=e?oe?"flex":"block":"none",z&&K(Object(p.a)(Object(p.a)({},z),t))}}),[s,y]),null===z)return null;switch(S){case"VECTOR":if(!(z&&g&&g.hasOwnProperty(C)))return null;n=Object(O.jsx)(U,{handleClick:pe,style:z,node:i});break;case"TEXT":n=Object(O.jsx)(G,{handleClick:pe,style:z,node:i});break;case"ELLIPSE":n=Object(O.jsx)(X,{handleClick:pe,style:z,node:i});break;default:n=Object(O.jsxs)("article",{style:"GROUP"!==S||J?z:null,onMouseEnter:function(){return de(["MouseEnter","Hover"])},onMouseLeave:function(){return de(["MouseLeave","Hover"])},onClick:pe,className:"Element "+ie,children:["TEXT"!==S&&"VECTOR"!==S&&"BOOLEAN_OPERATION"!==S&&Object(O.jsx)(B,{element:i}),"TEXT"!==S&&"VECTOR"!==S&&"BOOLEAN_OPERATION"!==S&&Object(O.jsx)(V,{element:i}),h&&h.hasOwnProperty("pluginFields")&&h.pluginFields.hasOwnProperty(C)&&Object(O.jsx)(W,{handleClick:pe,style:z,node:i}),i.children&&Object.keys(i.children).sort((function(e,t){return function(e,t){var n=i.order;return n.indexOf(e)-n.indexOf(t)}(e,t)})).map((function(t){var n=i.children[t];return Object(O.jsx)(e,{parent:i.id,node:n},t)}))]})}return i.hasOwnProperty("constraints")&&"CENTER"===i.constraints.horizontal?Object(O.jsx)("main",{style:ue("parent"),className:"centerParent",children:Object(O.jsx)("section",{className:"childStyle",style:ue("child"),children:n})}):n}),K=(n(60),function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.figmaData,i=t.currentPageIDX,r=t.currentFrameID,o=(t.nodeTree,t.currentPageID,n.children[i].children[r]);return Object(a.useEffect)((function(){r&&e({type:"ADD_CHILD_ELEMENT",payload:o})}),[r]),o?Object(O.jsx)("section",{style:{},className:"RenderElements",children:o.hasOwnProperty("children")?Object.keys(o.children).map((function(e){return Object(O.jsx)(z,{parent:o.id,node:o.children[e]},o.children[e].id)})):Object(O.jsx)(k,{})}):null}),q=(n(61),function(){var e=Object(a.useContext)(u),t=e.figmaData,n=e.currentPageIDX,i=e.currentFrameID,r=(e.protoHeight,t.children[n]);return Object(O.jsxs)("section",{style:{},className:"Frame",children:[r.children.hasOwnProperty(i)&&r.children[i].hasOwnProperty("background")&&r.children[i].background.length>0&&Object(O.jsx)(B,{element:r.children[i]}),r.children.hasOwnProperty(i)&&r.children[i].hasOwnProperty("strokes")&&r.children[i].strokes.length>0&&Object(O.jsx)(V,{element:r.children[i]}),Object(O.jsx)(K,{})]})}),Y=(n(62),n(63),function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.currentBreakpoint,i=t.breakPoints,r=(t.nodeTree,t.figmaData),o=t.currentPageIDX,c=t.currentFrameID,l=t.isMobile,s=t.protoWidth,p=t.protoHeight,h=t.smoov,b=t.minWidth,g=t.minHeight,j=r.children[o];return Object(a.useEffect)((function(){if(i&&i.length){var t=i.indexOf(i[n]);c!==t&&(e({type:"SET_CURRENT_FRAME_ID",payload:i[n].id}),e({type:"SET_CURRENT_FRAME_IDX",payload:t}))}}),[n,i]),Object(a.useEffect)((function(){var e=r.children[o];e.hasOwnProperty("children")&&Object.keys(e.children).forEach((function(t,n){var a=e.children[t];-1!==a.name.indexOf("|")&&(a[a.name.split("|")[0].split(" ").join("**").toLowerCase()]=a.absoluteBoundingBox.width,a.index=n)}))}),[r,o]),r.children[o].hasOwnProperty("children")?Object(O.jsx)(D.Resizable,{maxConstraints:[window.innerWidth,window.innerHeight-34],minConstraints:[b,g],onResize:function(t,n){var a=n.size,i=a.width,r=a.height;e({type:"SET_DIRECTION",payload:0>=s-i}),e({type:"SET_WIDTH",payload:i}),e({type:"SET_HEIGHT",payload:r})},width:s,height:p,children:Object(O.jsxs)("main",{style:{width:s,height:p},className:"Frames box ".concat(l?"mobile":"desktop"," ").concat(h?"smoov":""),children:[Object(O.jsxs)("p",{className:"pageName",children:[j.name," \xa0>\xa0 ",c&&j.children[c].name]}),Object(O.jsx)(q,{})]})}):Object(O.jsx)(k,{})}),J=(n(64),function(){return Object(O.jsx)("main",{className:"Loading",children:"Loading..."})}),Z=function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.direction,i=t.currentBreakpoint,r=t.breakPoints,c=(t.rwd,t.currentFrameID),l=t.protoWidth,s=t.figmaData,p=(t.figmaFile,t.loading),h=t.currentPageIDX,b=t.currentPageID,g=t.selection,j=t.nodeTree,f=Object(a.useState)(null),y=Object(o.a)(f,2),E=y[0],x=y[1];return Object(a.useEffect)((function(){b&&s&&s.children.every((function(t,n){return t.id!==b||(e({type:"RESET_CURRENTPAGE",payload:n}),!1)}))}),[b,g]),Object(a.useEffect)((function(){if(r&&r.length){var t=Math.round(l);n?i+1<r.length&&t>r[i+1].breakPoint&&e({type:"SET_CURRENT_BPOINT",payload:i+1}):t<r[i].breakPoint&&i-1>=0&&e({type:"SET_CURRENT_BPOINT",payload:i-1})}}),[l]),Object(a.useEffect)((function(){Math.round(l);if(j){var t=s.children[h].children[c],n=Object.keys(t).filter((function(e){return-1!==e.indexOf("**")})),a=Object.keys(s.children[h].children).filter((function(e){return s.children[h].children[e].hasOwnProperty(n[0])})).map((function(e){var t=s.children[h].children[e];return{id:t.id,name:t.name,breakPoint:t[n[0]]}})).sort((function(e,t){return e.breakPoint-t.breakPoint}));e({type:"SET_BREAKPOINTS",payload:a})}}),[j]),Object(a.useEffect)((function(){if(s&&s.hasOwnProperty("document")){var e=T(s.children[h].backgroundColor);x("rgba(229.00000154972076,229.00000154972076,229.00000154972076,1)"!==e?{background:e}:null)}}),[s,h]),Object(O.jsxs)("main",{className:"FigmaProto",children:[Object(O.jsx)(R,{}),Object(O.jsx)("section",{style:E,className:"Prototype",children:s&&!p?Object(O.jsx)(Y,{}):Object(O.jsx)(J,{})})]})},Q=(n(65),function(){return Object(O.jsx)("main",{className:"NoPyro",children:"NoPyro"})}),$=(n(66),n(67),n(68),function(){var e=Object(a.useContext)(d),t=Object(a.useContext)(u),n=t.pristine,i=(t.pluginState,t.noPyroProto),r=(t.figmaData,t.figmaFile),c=(t.loading,l.collection("figma-files").doc(r).collection("fileData")),s=c.doc("pluginUIData").collection("variables"),p=c.doc("pluginUIData").collection("nodeActions"),h=c.doc("pluginUIData").collection("nodeConditions"),b=c.doc("pluginUIData").collection("nodeFields"),g=c.doc("pluginUIData").collection("nodeTexts"),j=Object(x.a)(s,{idField:"id"}),f=Object(o.a)(j,1)[0],y=Object(x.a)(p,{idField:"id"}),E=Object(o.a)(y,1)[0],m=Object(x.a)(h,{idField:"id"}),T=Object(o.a)(m,1)[0],v=Object(x.a)(b,{idField:"id"}),w=Object(o.a)(v,1)[0],N=Object(x.a)(g,{idField:"id"}),I=Object(o.a)(N,1)[0],S=Object(x.a)(c,{idField:"id"});Object(o.a)(S,1)[0];return Object(a.useEffect)((function(){n?e({type:"NOT_PRISTINE"}):T||e({type:"RMV_LOADING"})}),[n]),Object(a.useEffect)((function(){if(f&&E&&T&&w&&I){var t=f.reduce((function(e,t){return e[t.id]=Object.entries(t.var)[0][1],e}),{}),n=w.reduce((function(e,t){return e[t.id]=t,e}),{}),a=I.reduce((function(e,t){return e[t.id]=t,e}),{}),i=E.reduce((function(e,t){return p.doc(t.id).collection("actions").get().then((function(n){var a={};n.forEach((function(e){return a[e.id]=e.data()})),e[t.id]=a})),e}),{}),r=T.reduce((function(t,n){return h.doc(n.id).collection("conditions").get().then((function(a){var i={};a.forEach((function(e){return i[e.id]=e.data()})),t[n.id]=i;var r=n.id;e({type:"ADD_CONDITION",payload:{nodeID:r,conditions:i}})})),t}),{});e({type:"SET_PLUGIN_STATE",payload:{pluginVariables:t,pluginActions:i,pluginConditions:r,pluginFields:n,pluginTexts:a}})}}),[f,E,T,w,I]),i?Object(O.jsx)(Q,{}):Object(O.jsx)(Z,{})}),ee=function(){var e=g(),t=window.location.href.split("/figma/?key=")[1],n=Object(a.useReducer)(b,h),i=Object(o.a)(n,2),r=i[0],c=i[1],s=r.userData,p=r.authData,j=r.userIsAllowed,y=r.figmaFile,x=l.collection("figma-files").doc(t),m=function(){if(e){var t=e.photoURL,n=e.email,a=e.displayName;c({type:"SET_USER",payload:{photoURL:t,email:n,displayName:a}})}else c({type:"SET_USER",payload:null})},T=function(){var t=!1;if(e&&p&&s){var n=p.currentOrg,a=p.myEmail,i=(p.orgDomain,p.useOrg),r=p.users,o=(s.displayName,s.email),c=(s.photoURL,a===o),l=r.length&&-1!==r.indexOf(o);i&&-1!==o.indexOf(n)&&(t=!0),l&&(t=!0),c&&(t=!0)}return t};return Object(a.useEffect)((function(){x.get().then((function(e){if(e.exists){var t=e.data(),n=t.authData,a=t.pageData;c({type:"UPDATE_FILE_DATA_FROM_FIGMA",payload:{authData:n,pageData:a}}),c({type:"SET_CURRENT_FRAME_ID",payload:a.children[0].prototypeStartNodeID})}else c({type:"NO_PROTO"})})).catch((function(e){return console.error(e)})),m(),T()}),[]),Object(a.useEffect)((function(){m(),j!==T()&&c({type:"AUTHORISE_USER",payload:T})}),[T(),e]),Object(a.useEffect)((function(){c({type:"SET_FILEKEY",payload:t})}),[]),y?Object(O.jsx)(d.Provider,{value:c,children:Object(O.jsxs)(u.Provider,{value:r,children:[e&&T()&&Object(O.jsx)($,{}),e&&!T()&&Object(O.jsx)(E,{}),!e&&Object(O.jsx)(f,{})]})}):Object(O.jsx)("p",{children:"no file"})};r.a.render(Object(O.jsx)(ee,{}),document.getElementById("figma_pyro"))}]),[[69,1,2]]]);
//# sourceMappingURL=main.0c734e11.chunk.js.map